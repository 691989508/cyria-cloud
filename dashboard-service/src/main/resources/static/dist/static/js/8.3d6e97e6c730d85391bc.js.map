{"version":3,"sources":["webpack:///./src/views/dashboard/Template.vue?fb7c","webpack:///./src/directive/waves/index.js","webpack:///./src/directive/waves/waves.js","webpack:///./src/views/dashboard/Template.vue?08ba","webpack:///src/views/dashboard/Template.vue","webpack:///./src/views/dashboard/Template.vue?2bac","webpack:///./src/views/dashboard/Template.vue","webpack:///./src/api/template.js","webpack:///./src/views/dashboard/Template.vue?bce3"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_2_node_modules_vue_loader_lib_index_js_vue_loader_options_Template_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","install","Vue","directive","waves","waves_waves","bind","el","binding","addEventListener","e","customOpts","assign_default","value","opts","ele","type","color","target","style","position","overflow","rect","getBoundingClientRect","ripple","querySelector","className","document","createElement","height","width","Math","max","appendChild","top","offsetHeight","left","offsetWidth","pageY","documentElement","scrollTop","body","pageX","scrollLeft","backgroundColor","window","use","levelOptions","text","levelTypeKeyValue","reduce","acc","cur","dashboard_Templatevue_type_script_lang_js_","name","directives","filters","levelFilter","v","fullImgUrl","url","data","tableKey","tplList","total","tplListLoading","listQuery","page","limit","importance","undefined","title","sort","temp","dialogFormVisible","dialogStatus","createTplRules","required","trigger","validator","rule","callback","length","Error","created","this","getTemplates","methods","_this","Object","template","then","response","items","setTimeout","catch","handleFilter","resetTemp","isTemplate","about","handleCreate","_this2","$nextTick","$refs","clearValidate","createSubmit","_this3","validate","valid","handleEdit","hash","handleDelete","_this4","$notify","message","duration","$router","push","path","query","redirect","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","cursor","on","click","_m","_v","_l","item","key","attrs","src","_f","imgUrl","$event","_s","config","timestamp","visible","update:visible","ref","margin-left","model","rules","label-position","label-width","label","prop","$$v","$set","expression","placeholder","slot","__webpack_exports__","d","fetchTemplateList","fetchTemplate","updateTemplate","createTemplate","deleteTemplate","_scripts_request__WEBPACK_IMPORTED_MODULE_0__","request","method","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_11_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_2_node_modules_sass_loader_lib_loader_js_ref_11_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Template_vue_vue_type_style_index_1_id_63def1de_rel_stylesheet_2Fscss_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/8.3d6e97e6c730d85391bc.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Template.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Template.vue?vue&type=style&index=0&lang=css&\"","import waves from './waves'\n\nconst install = function (Vue) {\n  Vue.directive('waves', waves)\n}\n\nif (window.Vue) {\n  window.waves = waves\n  Vue.use(install); // eslint-disable-line\n}\n\nwaves.install = install\nexport default waves\n","import './waves.css'\n\nexport default {\n  bind (el, binding) {\n    el.addEventListener('click', e => {\n      const customOpts = Object.assign({}, binding.value)\n      const opts = Object.assign({\n        ele: el, // 波纹作用元素\n        type: 'hit', // hit 点击位置扩散 center中心点扩展\n        color: 'rgba(0, 0, 0, 0.15)' // 波纹颜色\n      }, customOpts)\n      const target = opts.ele\n      if (target) {\n        target.style.position = 'relative'\n        target.style.overflow = 'hidden'\n        const rect = target.getBoundingClientRect()\n        let ripple = target.querySelector('.waves-ripple')\n        if (!ripple) {\n          ripple = document.createElement('span')\n          ripple.className = 'waves-ripple'\n          ripple.style.height = ripple.style.width = Math.max(rect.width, rect.height) + 'px'\n          target.appendChild(ripple)\n        } else {\n          ripple.className = 'waves-ripple'\n        }\n        switch (opts.type) {\n          case 'center':\n            ripple.style.top = (rect.height / 2 - ripple.offsetHeight / 2) + 'px'\n            ripple.style.left = (rect.width / 2 - ripple.offsetWidth / 2) + 'px'\n            break\n          default:\n            ripple.style.top = (e.pageY - rect.top - ripple.offsetHeight / 2 - document.documentElement.scrollTop || document.body.scrollTop) + 'px'\n            ripple.style.left = (e.pageX - rect.left - ripple.offsetWidth / 2 - document.documentElement.scrollLeft || document.body.scrollLeft) + 'px'\n        }\n        ripple.style.backgroundColor = opts.color\n        ripple.className = 'waves-ripple z-active'\n        return false\n      }\n    }, false)\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"template-list-cont\"},[_c('div',{staticClass:\"item-box\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.handleCreate}},[_vm._m(0),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),_vm._l((_vm.tplList),function(item){return _c('div',{key:item.hash,staticClass:\"item-box\"},[_c('div',{staticClass:\"item-box-top\"},[_c('div',{staticClass:\"item-box-top-img\"},[_c('img',{attrs:{\"src\":_vm._f(\"fullImgUrl\")(item.imgUrl)}})]),_vm._v(\" \"),_c('div',{staticClass:\"item-box-top-icon\"},[_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){return _vm.handleEdit(item.hash)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.handleDelete(item.hash)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"item-box-bottom\"},[_c('h4',{staticClass:\"template-item-title\"},[_vm._v(_vm._s(item.config.title))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm._f(\"parseTime\")(item.timestamp,'{y}-{m}-{d} {h}:{i}'))+\" \"),_c('span',{staticClass:\"link-type\"},[_vm._v(_vm._s(item.config.width + 'X' + item.config.height))])])])])})],2),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":'新建模板',\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"TplForm\",staticStyle:{\"width\":\"500px\",\"margin-left\":\"50px\"},attrs:{\"model\":_vm.temp,\"rules\":_vm.createTplRules,\"label-position\":\"top\",\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":'模板名称',\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.temp.name),callback:function ($$v) {_vm.$set(_vm.temp, \"name\", $$v)},expression:\"temp.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'模板级别'}},[_c('el-select',{staticClass:\"filter-item\",attrs:{\"placeholder\":\"请选择一个级别\"},model:{value:(_vm.temp.level),callback:function ($$v) {_vm.$set(_vm.temp, \"level\", $$v)},expression:\"temp.level\"}},_vm._l((_vm.levelOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.text,\"value\":item.value}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s('取消'))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogStatus===_vm.createSubmit()}}},[_vm._v(_vm._s('创建'))])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-box-top\"},[_c('div',{staticClass:\"item-box-top-img\"},[_c('i',{staticClass:\"el-icon-plus plus-icon\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-box-bottom\"},[_c('h4',[_vm._v(\"新建模板\")]),_vm._v(\" \"),_c('p',[_vm._v(\"添加一个新的模板\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container\">\n    <div class=\"template-list-cont\">\n      <div class=\"item-box\" style=\"cursor: pointer\" @click=\"handleCreate\">\n        <div class=\"item-box-top\">\n          <div class=\"item-box-top-img\">\n            <i class=\"el-icon-plus plus-icon\"/>\n          </div>\n        </div>\n        <div class=\"item-box-bottom\">\n          <h4>新建模板</h4>\n          <p>添加一个新的模板</p>\n        </div>\n      </div>\n      <div class=\"item-box\" v-for=\"item in tplList\" :key=\"item.hash\">\n        <div class=\"item-box-top\">\n          <div class=\"item-box-top-img\">\n            <img :src=\"item.imgUrl | fullImgUrl\">\n          </div>\n          <div class=\"item-box-top-icon\">\n            <i class=\"el-icon-edit\" @click=\"handleEdit(item.hash)\"></i>\n            <i class=\"el-icon-delete\" @click=\"handleDelete(item.hash)\"></i>\n          </div>\n        </div>\n        <div class=\"item-box-bottom\">\n          <h4 class=\"template-item-title\">{{item.config.title}}</h4>\n          <p>{{ item.timestamp | parseTime('{y}-{m}-{d} {h}:{i}') }} <span class=\"link-type\" >{{ item.config.width + 'X' + item.config.height }}</span></p>\n        </div>\n      </div>\n    </div>\n\n    <!--新建大屏-->\n    <el-dialog :title=\"'新建模板'\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"TplForm\" :model=\"temp\" :rules=\"createTplRules\" label-position=\"top\" label-width=\"70px\" style=\"width: 500px; margin-left:50px;\">\n\n        <el-form-item :label=\"'模板名称'\" prop=\"title\">\n          <el-input v-model=\"temp.name\"/>\n        </el-form-item>\n        <el-form-item :label=\"'模板级别'\">\n          <el-select v-model=\"temp.level\" class=\"filter-item\" placeholder=\"请选择一个级别\">\n            <el-option v-for=\"item in levelOptions\" :key=\"item.value\" :label=\"item.text\" :value=\"item.value\"/>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">{{ '取消' }}</el-button>\n        <el-button type=\"primary\" @click=\"dialogStatus===createSubmit()\">{{ '创建' }}</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport { fetchTemplateList, createTemplate, deleteTemplate } from '@/api/template'\nimport waves from '@/directive/waves' // Waves directive\n// import { parseTime } from '@/scripts'\n\nconst levelOptions = [\n  { value: 0, text: '隐藏' },\n  { value: 1, text: '公开' },\n  { value: 2, text: '普通' },\n  { value: 3, text: '中级' },\n  { value: 4, text: '高级' }\n]\n\nconst levelTypeKeyValue = levelOptions.reduce((acc, cur) => {\n  acc[cur.value] = cur.text\n  return acc\n}, {})\n\nexport default {\n  name: 'TemplateManage',\n  directives: { waves },\n  filters: {\n    levelFilter (v) {\n      return levelTypeKeyValue[v]\n    },\n    fullImgUrl (url) {\n      return process.env.BASE_API + url\n    }\n  },\n  data () {\n    const validateTplName = (rule, value, callback) => {\n      if (value.length <= 0) {\n        callback(new Error('模板名称不能为空'))\n      } else {\n        callback()\n      }\n    }\n\n    return {\n      tableKey: 0,\n      tplList: null,\n      total: 0,\n      tplListLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 20,\n        importance: undefined,\n        title: undefined,\n        type: undefined,\n        sort: '+id'\n      },\n      levelOptions,\n      temp: {},\n      dialogFormVisible: false,\n      dialogStatus: '',\n      createTplRules: {\n        name: [{ required: true, trigger: 'blur', validator: validateTplName }]\n      }\n    }\n  },\n  created () {\n    this.getTemplates()\n  },\n  methods: {\n    getTemplates () {\n      this.tplListLoading = true\n      fetchTemplateList().then(response => {\n        this.tplList = response.data.items\n        this.total = response.data.total || 0\n        this.tplListLoading = false\n\n        setTimeout(() => {\n          this.tplListLoading = false\n        }, 1 * 1000)\n      }).catch(() => {\n        setTimeout(() => {\n          this.tplListLoading = false\n        }, 1 * 1000)\n      })\n    },\n    handleFilter () {\n      this.listQuery.page = 1\n      this.getTemplates()\n    },\n    resetTemp () {\n      this.temp = {\n        name: '',\n        isTemplate: true,\n        about: '大屏模板'\n      }\n    },\n    handleCreate () {\n      this.resetTemp()\n      this.dialogStatus = '新建模板'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['TplForm'].clearValidate()\n      })\n    },\n    createSubmit () {\n      this.$refs['TplForm'].validate((valid) => {\n        if (valid) {\n          createTemplate(this.temp).then(response => {\n            // 跳转到编辑页面\n            this.handleEdit(response.hash)\n          })\n        }\n      })\n    },\n    handleDelete: function (hash) {\n      deleteTemplate(hash).then(response => {\n        this.$notify({\n          title: '成功',\n          message: '删除成功',\n          type: 'success',\n          duration: 2000\n        })\n        // <!-- const index = this.list.indexOf(row) -->\n        // <!-- this.list.splice(index, 1) -->\n        this.getTemplates()\n      })\n    },\n    handleEdit (hash) {\n      this.$router.push({\n        path: '/edit/dashboard/' + hash,\n        query: {\n          redirect: 'template'\n        }\n      })\n    }\n  }\n}\n</script>\n<style>\n  .template-list-cont{\n    width:100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n  }\n  .item-box{\n    width: 250px;\n    height:220px;\n    margin: 0 20px 20px 0;\n    box-sizing: border-box;\n    border:1px solid #eee;\n    /*background:#eee;*/\n  }\n  .item-box:hover{\n    box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\n  }\n  .item-box-top{\n    width:100%;\n    height:150px;\n    position: relative;\n    border-bottom:1px solid #eee;\n  }\n  .item-box-top-img{\n    width:100%;\n    height: 100%;\n    position: absolute;\n    text-align: center;\n    z-index: 0;\n  }\n  .item-box-top-img img{\n    width:100%;\n    height:100%;\n    display: block;\n  }\n  .item-box-top-icon{\n    position: absolute;\n    display: none;\n    z-index: 1;\n    width:100%;\n    height:100%;\n    padding-top:30%;\n    color:#fff;\n    font-size: 26px;\n    text-align: center;\n    background: rgba(0,0,0,0.4);\n  }\n  .item-box-top-icon i{\n    cursor: pointer;\n  }\n  .item-box-top:hover .item-box-top-img img{\n    overflow: hidden;\n    /*transform: scale(1.1, 1.1);*/\n  }\n  .item-box-top:hover .item-box-top-icon{\n    display: block;\n  }\n  .plus-icon{\n    font-size: 50px;\n    margin-top:20%;\n    color:#666;\n  }\n  .item-box-bottom{\n    padding: 0 10px;\n  }\n  .item-box-bottom h4{\n    font-size: 15px;\n    margin:15px 0 0 0;\n    font-weight: normal;\n  }\n  .item-box-bottom p{\n    font-size:14px;\n    margin:6px 0 0 0;\n    color:#999;\n  }\n</style>\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n  .template-item-title{\n    display: block;\n    width:100%;\n    overflow:hidden;\n    text-overflow:ellipsis;\n    white-space:nowrap;\n  }\n.box-card-component {\n  width:250px;\n  margin-left:8px;\n\n  .box-card-header {\n    position: relative;\n    height: 150px;\n    width: 150px;\n    text-align: center;\n    img {\n      width: 100%;\n      height: 100%;\n      transition: all 0.2s linear;\n      &:hover {\n        transform: scale(1.1, 1.1);\n        filter: contrast(130%);\n      }\n    }\n  }\n  .box-card-operation {\n    position:absolute;\n    bottom: 0;\n    height: 30px;\n    width: 100%;\n    // background-color: #999;\n    display:none;\n    z-index: 1000;\n  }\n  .box-card-operation i{\n    color: #606266;\n    margin: 0 7px;\n    font-size: 1.5em;\n    cursor:pointer;\n  }\n  .box-card-header:hover .box-card-operation {\n    display: block;\n  }\n  .box-card-bottom {\n    margin-top: 13px;\n    line-height: 12px;\n    font-size: 13px;\n    color: #999;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Template.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Template.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Template.vue?vue&type=template&id=63def1de&scoped=true&\"\nimport script from \"./Template.vue?vue&type=script&lang=js&\"\nexport * from \"./Template.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Template.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./Template.vue?vue&type=style&index=1&id=63def1de&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63def1de\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/scripts/request'\n\nexport function fetchTemplateList () {\n  return request({\n    url: '/templates',\n    method: 'get'\n  })\n}\nexport function fetchTemplate (hash) {\n  return request({\n    url: '/templates/' + hash,\n    method: 'get'\n  })\n}\n\nexport function updateTemplate (data) {\n  return request({\n    url: '/templates/' + data.hash,\n    method: 'put',\n    data\n  })\n}\n\nexport function createTemplate (data) {\n  return request({\n    url: '/templates',\n    method: 'post',\n    data\n  })\n}\n\nexport function deleteTemplate (hash) {\n  return request({\n    url: '/templates/' + hash,\n    method: 'delete'\n  })\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Template.vue?vue&type=style&index=1&id=63def1de&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Template.vue?vue&type=style&index=1&id=63def1de&rel=stylesheet%2Fscss&lang=scss&scoped=true&\""],"sourceRoot":""}