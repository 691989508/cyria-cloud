{"version":3,"sources":["webpack:///./src/views/account/UserProfile.vue?cccf","webpack:///./src/views/account/UserProfile.vue?8d55","webpack:///src/views/account/UserProfile.vue","webpack:///./src/views/account/UserProfile.vue","webpack:///./src/views/account/UserProfile.vue?5a84"],"names":["account_UserProfilevue_type_script_lang_js_","name","data","validatePass","rule","value","callback","Error","length","_this","ruleForm","checkPass","$refs","validateField","this","imageUrl","uploadUrl","oldPassword","newPassword","checkPassword","rules","validator","trigger","computed","extends_default","Object","vuex_esm","methods","handleAvatarSuccess","res","file","URL","createObjectURL","raw","beforeAvatarUpload","isPNG","type","isJPG","isGIF","isLt2M","size","console","log","$message","error","resetForm","formName","resetFields","submitForm","_this2","validate","valid","$store","dispatch","then","response","code","message","duration","that","setTimeout","location","reload","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","float","ref","attrs","model","status-icon","label-width","label","prop","autocomplete","$$v","$set","expression","_v","on","click","$event","margin-left","action","show-file-list","on-success","before-upload","src","avatar","slot","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_2_node_modules_vue_loader_lib_index_js_vue_loader_options_UserProfile_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"static/js/10.33494615f101ef0d2ef7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info-container\"},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"原密码\",\"prop\":\"oldPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.oldPassword),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"oldPassword\", $$v)},expression:\"ruleForm.oldPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"newPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.newPassword),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"newPassword\", $$v)},expression:\"ruleForm.newPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.checkPassword),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checkPassword\", $$v)},expression:\"ruleForm.checkPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"50px\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.avatar}}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"点击更改头像\")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"info-container\">\n    <div style=\"float: left\">\n      <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item label=\"原密码\" prop=\"oldPassword\">\n          <el-input type=\"password\" v-model=\"ruleForm.oldPassword\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"新密码\" prop=\"newPassword\">\n          <el-input type=\"password\" v-model=\"ruleForm.newPassword\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"checkPassword\">\n          <el-input type=\"password\" v-model=\"ruleForm.checkPassword\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div style=\"float: left;margin-left:50px;\">\n      <el-upload\n        class=\"avatar-uploader\"\n        :action=\"uploadUrl\"\n        :show-file-list=\"false\"\n        :on-success=\"handleAvatarSuccess\"\n        :before-upload=\"beforeAvatarUpload\">\n        <img :src=\"avatar\" class=\"avatar\">\n        <div class=\"el-upload__tip\" slot=\"tip\">点击更改头像</div>\n      </el-upload>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'UserProfile',\n  data () {\n    var validatePass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入密码'))\n      } else if (value.length < 6) {\n        callback(new Error('密码必须大于6位字符'))\n      } else {\n        if (this.ruleForm.checkPass !== '') {\n          this.$refs.ruleForm.validateField('checkPass')\n        }\n        callback()\n      }\n    }\n    var validatePass2 = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'))\n      } else if (value !== this.ruleForm.newPassword) {\n        callback(new Error('两次输入密码不一致!'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      imageUrl: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif',\n      uploadUrl: '',\n      ruleForm: {\n        oldPassword: '',\n        newPassword: '',\n        checkPassword: ''\n      },\n      rules: {\n        oldPassword: [\n          { validator: validatePass, trigger: 'blur' }\n        ],\n        newPassword: [\n          { validator: validatePass, trigger: 'blur' }\n        ],\n        checkPassword: [\n          { validator: validatePass2, trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'avatar'\n    ])\n  },\n  methods: {\n    handleAvatarSuccess (res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw)\n    },\n    beforeAvatarUpload (file) {\n      const isPNG = file.type === 'image/png'\n      const isJPG = file.type === 'image/jpeg'\n      const isGIF = file.type === 'image/gif'\n      const isLt2M = file.size / 1024 / 1024 < 2\n      console.log(file)\n      if (!isJPG && !isPNG && !isGIF) {\n        this.$message.error('上传头像图片只能是 JPG/PNG/GIF 格式!')\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!')\n      }\n      return (isJPG || isPNG || isGIF) && isLt2M\n    },\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n    },\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.$store.dispatch('UpdateAccount', this.ruleForm).then(response => {\n            if (response.code === 0) {\n              this.$message({\n                message: '密码修改成功, 请重新登陆',\n                type: 'success',\n                duration: 3000\n              })\n\n              const that = this\n              setTimeout(() => {\n                that.$store.dispatch('LogOut').then(() => {\n                  location.reload()\n                })\n              }, 3000)\n            }\n          })\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n  .el-carousel__item h3 {\n    color: #475669;\n    font-size: 14px;\n    opacity: 0.75;\n    line-height: 100px;\n    margin: 0;\n  }\n\n  .el-carousel__item:nth-child(2n) {\n    background-color: #99a9bf;\n  }\n\n  .el-carousel__item:nth-child(2n+1) {\n    background-color: #d3dce6;\n  }\n  .info-container{\n    width:800px;\n    padding-top:50px;\n  }\n\n  .avatar-uploader{\n    text-align: center;\n  }\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 50px;\n    color: #8c939d;\n    font-weight: bold;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n    border-radius: 4px;\n    border:1px dashed #dcdfe6;\n  }\n  .avatar {\n    width: 120px;\n    height: 120px;\n    display: block;\n  }\n</style>\n","import { render, staticRenderFns } from \"./UserProfile.vue?vue&type=template&id=1f942500&\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserProfile.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}