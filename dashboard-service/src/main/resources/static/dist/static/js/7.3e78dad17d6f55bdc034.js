(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"21Jp":function(t,e,n){"use strict";var i=n("j2iy");n.n(i).a},E3DV:function(t,e,n){"use strict";var i=n("gQT7");n.n(i).a},"M+xL":function(t,e,n){},MYLL:function(t,e,n){},Ml7e:function(t,e,n){"use strict";var i=n("QHNk");n.n(i).a},NSYx:function(t,e,n){"use strict";n.r(e);var i=n("4d7F"),o=n.n(i),a=n("gDS+"),r=n.n(a),s=n("QbLZ"),l=n.n(s),c=n("oCYn"),u=n("X9Rj"),d=n("xiF3"),v=n("cLAn"),p=n.n(v),m=n("XJYT"),f=n("YEIV"),h=n.n(f),g=(n("xt+e"),n("1aBf")),b=n("ffaF"),_=[{value:"chart",text:"图表",icon:"chart"},{value:"indicator",text:"指标",icon:"dashboard"},{value:"table",text:"表格",icon:"table"},{value:"text",text:"文字",icon:"language"},{value:"map",text:"地图",icon:"international"},{value:"effect",text:"特效",icon:"star"},{value:"material",text:"素材",icon:"component"}],w={mixins:[g.a],props:["zoom"],data:function(){return{widgetClassOptions:_}},computed:{widgets:function(){return function(t){var e=b.a.getWidgets(),n={};for(var i in e)e[i].group===t&&(n[i]=e[i]);return n}},layers:function(){return this.$vpd.state.widgets},activeElement:function(){return this.$vpd.state.activeElement}},methods:{selectStyle:function(t){var e=this;this.$nextTick(function(){this.widgetClassOptions.forEach(function(t){e.$set(t,"active",!1)}),this.$set(t,"active",!0)})},outStyle:function(t){this.$set(t,"active",!1)},addWidget:function(t,e){this.$vpd.dispatch("addWidget",e)},updateSrollTop:function(){var t=document.getElementById("viewport").scrollTop/this.zoom*100;this.$vpd.commit("UPDATE_SCROLL_TOP",t)}}},y=(n("yXHi"),n("KHd+")),C={components:{WidgetBox:Object(y.a)(w,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"menu-bar"},[i("ul",{staticClass:"widget-box",on:{mousedown:n.updateSrollTop}},n._l(n.widgetClassOptions,function(e){return i("li",{key:e.value,staticClass:"btn-item",staticStyle:{cursor:"default"},on:{mouseover:function(t){n.selectStyle(e)},mouseout:function(t){return n.outStyle(e)}}},[i("div",{staticClass:"btn-container"},[i("svg-icon",{staticClass:"icon",attrs:{"icon-class":e.icon}}),n._v(" "),i("span",{staticClass:"btn-text"},[n._v(n._s(e.text))])],1),n._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"sort.active"}],staticClass:"btn-item__list"},[i("div",{staticClass:"list-container"},[i("ul",{staticClass:"tool-list clearfix"},n._l(n.widgets(e.value),function(e){return i("li",{key:e.name,on:{click:function(t){n.addWidget(t,e)}}},[i("span",{staticClass:"tool-item"},[i("div",{staticClass:"tool-item__icon",style:{backgroundImage:"url("+e.icon+")"}}),n._v(" "),i("div",{staticClass:"tool-item__name"},[n._v(n._s(e.title))])])])}),0)])])])}),0)])},[],!1,null,"06064ee1",null).exports},mixins:[g.a],computed:{show:function(){return"page"!==this.$vpd.state.type},zoom:function(){return this.$vpd.state.page.zoom}},mounted:function(){document.addEventListener("keyup",this.triggerKeyupFn)},beforeDestroy:function(){document.removeEventListener("keyup",this.triggerKeyupFn)},methods:{save:function(){this.$vpd.dispatch("save")},copyWidget:function(){this.$vpd.commit("COPY_WIDGET")},dele:function(){this.$vpd.commit("DELETE_WIDGET")},quit:function(){this.$vpd.dispatch("quit")},undo:function(){this.$vpd.dispatch("undo")},triggerKeyupFn:function(t){t.stopPropagation(),46===t.keyCode&&this.dele(),(t.ctrlKey||t.metaKey)&&90===t.keyCode&&this.undo()}}},E=(n("jZ/W"),n("vyIy"),Object(y.a)(C,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",{staticClass:"navbar1 container grid-xl"},[t._m(0),t._v(" "),n("section",{staticClass:"navbar-cont nav-middle"},[n("widget-box",{attrs:{zoom:t.zoom}})],1),t._v(" "),n("section",{staticClass:"navbar-cont navbar-right"},[n("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{"data-tooltip":"撤销 Ctrl + Z"},on:{click:t.undo}},[n("vpd-icon",{attrs:{name:"undo"}}),t._v(" 撤销\n      ")],1),t._v(" "),n("a",{staticClass:"btn btn-link",on:{click:t.save}},[n("vpd-icon",{attrs:{name:"save"}}),t._v(" 保存\n      ")],1),t._v(" "),n("a",{staticClass:"btn btn-link",on:{click:t.quit}},[n("vpd-icon",{attrs:{name:"quit"}}),t._v(" 退出\n      ")],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"logo navbar-cont"},[e("a",[this._v("QuickV")])])}],!1,null,"10d3b6ea",null).exports);var x={mixins:[g.a],props:["zoom"],data:function(){return{isCollapse:!1}},computed:{widgets:function(){return b.a.getWidgets()},layers:function(){return this.$vpd.state.widgets},activeElement:function(){return this.$vpd.state.activeElement}},methods:{activeLayer:function(t,e){this.$vpd.commit("SELECT_WIDGET",{uuid:e.uuid});var n=document.querySelector("#viewport"),i=n.querySelector("[data-uuid='"+e.uuid+"']");i&&!function(t){var e=t.getBoundingClientRect();return e.top<window.innerHeight&&e.left<window.innerWidth&&0<e.right}(i)&&(n.scrollTop=(function(t){for(var e=0,n=0;e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent;);return{top:e,left:n}}(i).top-50)*this.zoom/100)},getWidgetTitle:function(t){return this.widgets[t].title||""},enter:function(){this.isCollapse=!0},leave:function(){this.isCollapse=!1},isSelected:function(t){return this.$vpd.state.multiSelect?-1<this.$vpd.state.multiSelectCols.indexOf(t):this.$vpd.state.uuid===t}}},$=(n("Ml7e"),n("rd0h"),Object(y.a)(x,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"menu-bar-new toolbar-container toolbar-ctrl-panel",class:[n.isCollapse?"big-panel":""],on:{mouseenter:function(t){return n.enter()},mouseleave:function(t){return n.leave()}}},[i("div",{staticClass:"min-banner"},[n._v("组件管理")]),n._v(" "),i("div",{staticClass:"left-panel-cont"},[i("p",{staticClass:"toolbar-title"},[n._v("已加组件")]),n._v(" "),i("ul",{staticClass:"layer-list-new"},n._l(n.layers,function(e){return i("li",{key:e.uuid,class:{"layer-active":n.isSelected(e.uuid)},on:{click:function(t){n.activeLayer(t,e)}}},[n._v(n._s(e.name))])}),0)])])},[],!1,null,"3d378223",null).exports),A={mixins:[g.a],props:["activeElement","tab"],methods:{addPic:function(){var e=this;this.$vpd.$emit("upload",function(t){e.$vpd.commit("ADD_PAGE_BACKGROUND_IMAGE",t)})},delBgImg:function(){this.$vpd.commit("ADD_PAGE_BACKGROUND_IMAGE",[{url:""}])}}},P=(n("uv85"),Object(y.a)(A,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.activeElement.page&&1===e.tab?n("div",{staticClass:"panel-wrap"},[n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("div",{staticClass:"panel-label"},[e._v("大屏名称")]),e._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.activeElement.title,expression:"activeElement.title"}],attrs:{type:"text"},domProps:{value:e.activeElement.title},on:{input:function(t){t.target.composing||e.$set(e.activeElement,"title",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("div",{staticClass:"panel-label"},[e._v("大屏简介")]),e._v(" "),n("div",{staticClass:"panel-value"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.activeElement.about,expression:"activeElement.about"}],staticClass:"panel-textarea",domProps:{value:e.activeElement.about},on:{input:function(t){t.target.composing||e.$set(e.activeElement,"about",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("div",{staticClass:"panel-label"},[e._v("页面宽度")]),e._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.activeElement.width,expression:"activeElement.width",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.activeElement.width},on:{input:function(t){t.target.composing||e.$set(e.activeElement,"width",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("div",{staticClass:"panel-label"},[e._v("页面高度")]),e._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.activeElement.height,expression:"activeElement.height",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.activeElement.height},on:{input:function(t){t.target.composing||e.$set(e.activeElement,"height",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("div",{staticClass:"panel-label"},[e._v("页面背景色")]),e._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.activeElement.backgroundColor,expression:"activeElement.backgroundColor"}],attrs:{type:"color"},domProps:{value:e.activeElement.backgroundColor},on:{input:function(t){t.target.composing||e.$set(e.activeElement,"backgroundColor",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"panel-row"},[n("div",{staticClass:"panel-label"},[e._v("背景图")]),e._v(" "),n("div",{staticClass:"panel-value"},[n("div",{staticClass:"panel-preview pic-updata-btn",style:{backgroundImage:e.activeElement.backPic},on:{click:e.addPic}},[e._v("\n        "+e._s(""==e.activeElement.backPic||"url()"==e.activeElement.backPic?"点击上传":"重新上传")+"\n        "),n("vpd-icon",{directives:[{name:"show",rawName:"v-show",value:!e.activeElement.backPic,expression:"!activeElement.backPic"}],attrs:{name:"plus"}})],1),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:""!==e.activeElement.backPic&&"url()"!==e.activeElement.backPic,expression:"activeElement.backPic !== '' && activeElement.backPic !== 'url()'"}],staticClass:"panel-page-del-btn",on:{click:e.delBgImg}},[e._v("清空背景图")])])])]):e._e()},[],!1,null,null,null).exports),k=n("GQeE"),T=n.n(k),S={name:"PanelStyle",mixins:[g.a],props:["activeElement","tab"],data:function(){return{activeTab:1}},computed:{widgetStyle:function(){var e=this,n="";if(this.activeElement.type){var i=b.a.getWidgetStyle();T()(i).filter(function(t){i[t].type===e.activeElement.type&&(n=t)})}return n}}},N=Object(y.a)(S,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.activeElement.page||1!==e.tab?e._e():n("div",{staticClass:"panel-wrap"},[n("ul",{staticClass:"tab tab-block panel-tab"},[n("li",{staticClass:"tab-item",class:{active:1===e.activeTab},on:{click:function(t){e.activeTab=1}}},[n("a",[e._v("参数")])]),e._v(" "),n("li",{staticClass:"tab-item",class:{active:2===e.activeTab},on:{click:function(t){e.activeTab=2}}},[n("a",[e._v("数据")])]),e._v(" "),n("li",{staticClass:"tab-item",class:{active:3===e.activeTab},on:{click:function(t){e.activeTab=3}}},[n("a",[e._v("高级")])])]),e._v(" "),n(e.widgetStyle,{tag:"component",attrs:{tab:e.activeTab,"active-element":e.activeElement}})],1)},[],!1,null,null,null).exports,D={props:["activeElement","tab"]},O=Object(y.a)(D,function(){var e=this,t=e.$createElement,n=e._self._c||t;return 2===e.tab?n("div",{staticClass:"panel-wrap"},[n("div",{staticClass:"panel-row"},[n("vpd-icon",{attrs:{name:"link"}}),e._v(" "),n("div",{staticClass:"panel-label"},[e._v("点击时")])],1),e._v(" "),void 0!==e.activeElement.href?n("div",{staticClass:"panel-row"},[n("div",{staticClass:"panel-label"},[e._v("链接至")]),e._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.activeElement.href,expression:"activeElement.href"}],attrs:{type:"text",placeholder:"绝对路径，以https://开头"},domProps:{value:e.activeElement.href},on:{input:function(t){t.target.composing||e.$set(e.activeElement,"href",t.target.value)}}})])]):e._e()]):e._e()},[],!1,null,null,null).exports;function I(t,e,n,i){var a=!(3<arguments.length&&void 0!==i)||i,o=[t];["duration","timing","delay","iteration","direction","fill"].map(function(t){void 0!==e[t]&&("duration"===t||"delay"===t?o.push(e[t]+"s"):"iteration"===t?o.push(0===e[t]?"infinite":e[t]):o.push(e[t]))});var r="animation: "+o.join(" ")+";",s=[];a?n.map(function(t){s.push("\t"+t.stop+"% {\n"),s.push("\t\t"+t.css+"\n\t}\n")}):n.map(function(t){s.push(t.stop+"% {"),s.push(t.css+"}")});var l=s.join("");return"\n.anm-"+t+" {\n  -webkit-"+r+"\n  "+r+"\n}\n@keyframes "+t+" {\n"+l+"}\n@-webkit-keyframes "+t+" {\n"+l+"}\n"}function M(t,e){t.component("VpdSlider",R),t.component("VpdIcon",K),t.component("VuePageDesigner",H)}var V,j={name:"PanelAnimation",mixins:[g.a],props:["activeElement","tab"],data:function(){return{currentName:"",currentAnimation:null}},computed:{animationNames:function(){var e=[];return this.$vpd.state.animation.map(function(t){return e.push(t.name)}),e}},watch:{currentName:function(t){void 0!==this.activeElement.animationName&&(this.activeElement.animationName=t),this.getCurrentAnimation(t)},activeElement:function(t){void 0!==t.animationName?this.currentName=t.animationName:this.currentName=""}},methods:{addAnimation:function(){this.$vpd.state.animation.some(function(t){return""===t.name})?this.$vpd.$emit("notify",{info:"还有未命名动画，请先命名"}):(this.$vpd.commit("ADD_ANIMATION"),this.currentName="",this.getCurrentAnimation(""))},getCurrentAnimation:function(e){var t=this.$vpd.state.animation.filter(function(t){return t.name===e});this.currentAnimation=t[0]},addkeyframe:function(){var t=this.currentAnimation.name;""!==t?this.$vpd.commit("ADD_KEY_FRAME",t):this.$vpd.$emit("notify",{info:"请先为动画命名"})},validateName:function(t){var e=this,n=t.target.value;""!==n&&(/^[a-zA-Z]/.test(n)||(this.$nextTick(function(){e.currentAnimation.name=""}),this.$vpd.$emit("notify",{info:"动画名称必须以英文开头"})),/\W/g.test(n)&&(this.$nextTick(function(){e.currentAnimation.name=n.replace(/\W/g,"")}),this.$vpd.$emit("notify",{info:"请勿使用英文和数字以外的字符"})))},play:function(){var e=this;this.$vpd.commit("SET_ANIMATION",!1),setTimeout(function(){var t=e.$vpd.state.animation;0!==t.length&&(t.map(function(t){var e="anm-"+t.name,n=document.getElementById(e);if(n)n.innerHTML=I(t.name,t,t.keyframes,!1);else{var i=document.createElement("style");i.id=e,i.innerHTML=I(t.name,t,t.keyframes,!1),document.head.append(i)}}),e.$vpd.commit("SET_ANIMATION",!0))},200)}}},U=(n("RCXA"),{components:{page:P,appearance:N,event:O,animation:Object(y.a)(j,function(){var n=this,t=n.$createElement,i=n._self._c||t;return 3===n.tab?i("div",{staticClass:"panel-wrap"},[i("button",{staticClass:"btn btn-action float-right mx-1"},[i("vpd-icon",{attrs:{name:"plus"},on:{click:n.addAnimation}})],1),n._v(" "),i("button",{staticClass:"btn btn-action float-right"},[i("vpd-icon",{attrs:{name:"play"},on:{click:n.play}})],1),n._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"film"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("选择动画")]),n._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:n.currentName,expression:"currentName"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});n.currentName=t.target.multiple?e:e[0]}}},[i("option",{attrs:{value:""}},[n._v("无")]),n._v(" "),n._l(n.animationNames,function(t,e){return i("option",{key:e,domProps:{value:t}},[n._v(n._s(t))])})],2)])],1),n._v(" "),n.currentAnimation?i("div",[i("hr"),n._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"type"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("动画名称")]),n._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.currentAnimation.name,expression:"currentAnimation.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"动画名称，仅限英文"},domProps:{value:n.currentAnimation.name},on:{input:[function(t){t.target.composing||n.$set(n.currentAnimation,"name",t.target.value.trim())},n.validateName],blur:function(t){return n.$forceUpdate()}}})])],1),n._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"clock"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("动画时长")]),n._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:n.currentAnimation.duration,expression:"currentAnimation.duration",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入大于0的数字"},domProps:{value:n.currentAnimation.duration},on:{input:function(t){t.target.composing||n.$set(n.currentAnimation,"duration",n._n(t.target.value))},blur:function(t){return n.$forceUpdate()}}})])],1),n._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"watch"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("动画延迟")]),n._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:n.currentAnimation.delay,expression:"currentAnimation.delay",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入不小于0的数字"},domProps:{value:n.currentAnimation.delay},on:{input:function(t){t.target.composing||n.$set(n.currentAnimation,"delay",n._n(t.target.value))},blur:function(t){return n.$forceUpdate()}}})])],1),n._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"repeat"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("动画循环")]),n._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:n.currentAnimation.iteration,expression:"currentAnimation.iteration",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"输入0表示无限循环"},domProps:{value:n.currentAnimation.iteration},on:{input:function(t){t.target.composing||n.$set(n.currentAnimation,"iteration",n._n(t.target.value))},blur:function(t){return n.$forceUpdate()}}})])],1),n._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"activity"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("缓动函数")]),n._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:n.currentAnimation.timing,expression:"currentAnimation.timing"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});n.$set(n.currentAnimation,"timing",t.target.multiple?e:e[0])}}},[i("option",[n._v("linear")]),n._v(" "),i("option",[n._v("ease")]),n._v(" "),i("option",[n._v("ease-in")]),n._v(" "),i("option",[n._v("ease-out")]),n._v(" "),i("option",[n._v("ease-in-out")])])])],1),n._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"rotate-cw"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("动画方向")]),n._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:n.currentAnimation.direction,expression:"currentAnimation.direction"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});n.$set(n.currentAnimation,"direction",t.target.multiple?e:e[0])}}},[i("option",[n._v("normal")]),n._v(" "),i("option",[n._v("reverse")]),n._v(" "),i("option",[n._v("alternate")]),n._v(" "),i("option",[n._v("alternate-reverse")])])])],1),n._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"chevrons-down"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("fill-mode")]),n._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:n.currentAnimation.fill,expression:"currentAnimation.fill"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});n.$set(n.currentAnimation,"fill",t.target.multiple?e:e[0])}}},[i("option",[n._v("none")]),n._v(" "),i("option",[n._v("forwards")]),n._v(" "),i("option",[n._v("backwards")]),n._v(" "),i("option",[n._v("both")])])])],1),n._v(" "),i("hr"),n._v(" "),n._l(n.currentAnimation.keyframes,function(e,t){return i("div",{key:t},[i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"stop-circle"}}),n._v(" "),i("div",{staticClass:"panel-label"},[n._v("stop - "+n._s(t))]),n._v(" "),i("div",{staticClass:"panel-value"},[n._v(n._s(e.stop)+"%")]),n._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{step:1},model:{value:e.stop,callback:function(t){n.$set(e,"stop",t)},expression:"val.stop"}})],1)],1),n._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.css,expression:"val.css"}],attrs:{placeholder:"IMPORTANT: use rem, not px"},domProps:{value:e.css},on:{input:function(t){t.target.composing||n.$set(e,"css",t.target.value)}}}),n._v(" "),i("div",{staticStyle:{margin:"10px 0 0 20px"}},[t+1===n.currentAnimation.keyframes.length?i("button",{staticClass:"btn btn-primary",on:{click:n.addkeyframe}},[i("vpd-icon",{attrs:{name:"plus"}}),n._v(" 添加新的动画\n        ")],1):n._e()])])})],2):n._e()]):n._e()},[],!1,null,"220a2ab3",null).exports},mixins:[g.a],data:function(){return{activeTab:1,isCollapse:!1}},computed:{activeElement:function(){return this.$vpd.state.activeElement}},methods:{enter:function(){this.isCollapse=!0},leave:function(){this.isCollapse=!1}}}),L=(n("E3DV"),n("T3eB"),Object(y.a)(U,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-bar-new big-panel panel-container panel-ctrl-panel",class:[e.isCollapse?"big-panel":""],on:{mouseenter:function(t){return e.enter()},mouseleave:function(t){return e.leave()}}},[n("div",{staticClass:"min-banner"},[e._v("控制面板")]),e._v(" "),n("div",{staticClass:"panel-detail",class:[e.isCollapse?"":"noShow"]},[n("page",{attrs:{"active-element":e.activeElement,tab:e.activeTab}}),e._v(" "),n("appearance",{attrs:{"active-element":e.activeElement,tab:e.activeTab}}),e._v(" "),n("event",{attrs:{"active-element":e.activeElement,tab:e.activeTab}}),e._v(" "),n("animation",{attrs:{"active-element":e.activeElement,tab:e.activeTab}})],1)])},[],!1,null,null,null).exports),B=n("K25M"),W={name:"VpdSlider",props:{value:{type:[Number,String],default:0},max:{type:[Number,String],default:200},min:{type:[Number,String],default:10},step:{type:Number,default:.1},tuning:{type:Boolean,default:!0}},data:function(){return{inputValue:this.value,active:!1,focused:!1,dragging:!1}},computed:{percent:function(){var t=(this.inputValue-this.min)/(this.max-this.min)*100;return 100<t?100:t<0?0:t},fillStyle:function(){return{width:this.percent+"%"}},thumbStyle:function(){return{left:this.percent+"%"}},sliderClass:function(){return{zero:this.inputValue<=this.min,active:this.active}}},watch:{value:function(t){this.inputValue=t},inputValue:function(t){this.$emit("input",t)}},created:function(){this.handleDragMouseMove=this.handleDragMouseMove.bind(this),this.handleMouseEnd=this.handleMouseEnd.bind(this)},methods:{handleMouseDown:function(t){this.setValue(t),t.preventDefault(),document.addEventListener("mousemove",this.handleDragMouseMove),document.addEventListener("mouseup",this.handleMouseEnd),this.$el.focus(),this.onDragStart(t)},handleMouseUp:function(){this.active=!1},handleFocus:function(){this.focused=!0},handleBlur:function(){this.focused=!1},setValue:function(t){var e=this.$el,n=this.max,i=this.min,a=this.step,o=(t.clientX-e.firstElementChild.getBoundingClientRect().left)/e.firstElementChild.offsetWidth*(n-i);o=Math.round(o/a)*a+i,n<(o=parseFloat(o.toFixed(5)))?o=n:o<i&&(o=i),this.inputValue=o},onDragStart:function(t){this.dragging=!0,this.active=!0},onDragUpdate:function(t){var e=this;this.dragRunning||(this.dragRunning=!0,window.requestAnimationFrame(function(){e.dragRunning=!1,e.disabled||e.setValue(t)}))},onDragStop:function(t){this.dragging=!1,this.active=!1},handleDragMouseMove:function(t){this.onDragUpdate(t)},handleMouseEnd:function(t){document.removeEventListener("mousemove",this.handleDragMouseMove),document.removeEventListener("mouseup",this.handleMouseEnd),this.onDragStop(t)},increase:function(){this.inputValue>=this.max||(this.inputValue+=this.step)},decrease:function(){this.inputValue<=this.min||(this.inputValue-=this.step)}}},R=(n("wGNh"),Object(y.a)(W,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"mu-lisder-wrapper":e.tuning}},[n("div",{staticClass:"mu-slider",class:e.sliderClass,on:{focus:e.handleFocus,blur:e.handleBlur,mousedown:e.handleMouseDown,mouseup:e.handleMouseUp}},[n("input",{attrs:{type:"hidden"},domProps:{value:e.inputValue}}),e._v(" "),n("div",{staticClass:"mu-slider-track"}),e._v(" "),n("div",{staticClass:"mu-slider-fill",style:e.fillStyle}),e._v(" "),n("div",{staticClass:"mu-slider-thumb",style:e.thumbStyle})]),e._v(" "),e.tuning?n("div",{staticClass:"mu-increment",on:{mousedown:function(t){return t.stopPropagation(),e.increase(t)}}},[e._v("+")]):e._e(),e._v(" "),e.tuning?n("div",{staticClass:"mu-decrement",on:{mousedown:function(t){return t.stopPropagation(),e.decrease(t)}}},[e._v("-")]):e._e()])},[],!1,null,null,null).exports),z={name:"VpdToast",mixins:[g.a],data:function(){return{info:"",type:"warning",show:!1}},computed:{klass:function(){return{"toast-success":"success"===this.type,"toast-warning":"warning"===this.type,"toast-error":"error"===this.type}}},mounted:function(){var e=this;this.$vpd.$on("notify",function(t){e.notify(t.info,t.type)})},methods:{notify:function(t,e){var n=this;this.show||(this.info=t||"Success!",e&&(this.type=e),this.show=!0,setTimeout(function(){n.show=!1},2e3))}}},F=(n("agIG"),Object(y.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"drop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"toast",class:t.klass},[t._v(t._s(t.info))])])},[],!1,null,null,null).exports),G={name:"VpdUploader",mixins:[g.a],props:{upload:Function,uploadOption:Object},data:function(){return{multiple:!1,uploader:null,cb:null}},computed:{top:function(){return this.$vpd.state.top}},mounted:function(){var n=this;this.uploader=document.getElementById("uploader"),this.$vpd.$on("upload",function(t,e){n.multiple=!!e,n.cb=t,setTimeout(function(){n.uploader.click()},0)})},beforeDestroy:function(){this.$vpd.$off("upload")},methods:{handleUpload:function(){var i=this,t=this.uploader.files;t&&0!==t.length&&(t=Array.prototype.slice.call(this.uploader.files),(0,this.defaultUpload)(t).then(function(t){t.ok&&t.text().then(function(t){var n=JSON.parse(t);new o.a(function(t){var e="http://localhost"+n.imgUrl;i.handleLoadQueue(t,e)()}).then(function(t){i.cb(t)})})}))},defaultUpload:function(t){if(this.uploadOption.url){var e=new FormData;return t.forEach(function(t){return e.append("file",t)}),fetch(this.uploadOption.url,{method:"POST",body:e})}alert("请配置图片上传api地址")},handleLoadQueue:function(e,n){var i=this,a=[];return function(){new o.a(function(t){i.getImageWidth(n,t)}).then(function(t){a.push({width:t.w,height:t.h,top:i.top,url:n,src:n}),e(a)})}},getImageWidth:function(t,e){var n=new Image;n.src=t,n.onload=function(){e({w:Math.round(n.width),h:Math.round(n.height)})}}}},Q=Object(y.a)(G,function(){var t=this.$createElement;return(this._self._c||t)("input",{staticStyle:{display:"none"},attrs:{id:"uploader",multiple:!!this.multiple&&"multiple",type:"file",name:"image",accept:"image/png, image/jpeg, image/gif"},on:{change:this.handleUpload}})},[],!1,null,null,null).exports,q={name:"VuePageDesigner",components:(V={Navbar:E,Toolbar:$,Panel:L,Viewport:B.a},h()(V,F.name,F),h()(V,Q.name,Q),h()(V,R.name,R),V),mixins:[g.a],props:{page:Object,widgets:Array,upload:Function,uploadOption:Object},data:function(){return{styleObj:{width:"1621px"}}},computed:{zoom:function(){return this.$vpd.state.page.zoom}},beforeCreate:function(){},created:function(){var t=this;c.default.use(b.a),this.$vpd.initState(),this.$vpd.$on("save",function(){t.$vpd.commit("INIT_ACTIVE"),t.$emit("save",t.$vpd.state)}),this.$vpd.$on("quit",function(){t.$emit("quit",t.$vpd.state)})},mounted:function(){var t=this;window.onresize=function(){t.handleLableWidth()},this.handleLableWidth()},updated:function(){this.$vpd.commit("INIT_ACTIVE")},methods:{dozoom:function(t){this.$vpd.commit("ZOOM",t)},handleLableWidth:function(){var t=window.innerWidth;this.styleObj.width=t-299+"px"}},watch:{page:{handler:function(t,e){this.$vpd.replacePage(t),this.$vpd.commit("INIT_ACTIVE")},deep:!0},widgets:{handler:function(t,e){if(!this.$vpd.state.moving){var n={widget:JSON.parse(r()(t)),curUUID:this.$vpd.state.activeElement.uuid};this.$vpd.commit("BACKUP_WIDGET",n)}this.$vpd.replaceWidgets(t)},deep:!0},"$vpd.state.moving":function(t,e){if(!t){var n={widget:JSON.parse(r()(this.$vpd.state.widgets)),curUUID:this.$vpd.state.activeElement.uuid};this.$vpd.commit("BACKUP_WIDGET",n)}}}},H=(n("21Jp"),Object(y.a)(q,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("navbar"),t._v(" "),n("div",{staticClass:"body container grid-xl"},[n("div",{staticClass:"columns col-gapless"},[n("toolbar",{staticClass:"toolbar column",attrs:{zoom:t.zoom}}),t._v(" "),n("div",{staticClass:"viewport viewport-new",style:t.styleObj},[n("viewport",{attrs:{zoom:t.zoom}}),t._v(" "),n("div",{staticClass:"zoom-wrap"},[n("vpd-slider",{attrs:{value:t.zoom,step:5,tuning:!1},on:{input:t.dozoom}}),t._v(" "),n("div",{staticClass:"zoom-value"},[t._v(t._s(t.zoom)+"%")])],1)],1),t._v(" "),n("panel",{staticClass:"control-panel column"})],1)]),t._v(" "),n("vpd-uploader",{attrs:{upload:t.upload,"upload-option":t.uploadOption}}),t._v(" "),n("vpd-toast")],1)},[],!1,null,null,null).exports),J={name:"VpdIcon",props:{svg:String,title:String,name:String,options:Object},computed:{icon:function(){return this.svg||'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><use xlink:href="#'+this.name+'"></svg>'}},methods:{handleClick:function(){this.$emit("click")}}},K=(n("SEoB"),Object(y.a)(J,function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{staticClass:"icon svg-icon",attrs:{title:t.title},domProps:{innerHTML:t._s(t.icon)},on:{click:t.handleClick}})},[],!1,null,null,null).exports);n("M+xL");"undefined"!=typeof window&&window.Vue&&M(window.Vue);var X={install:M,VuePageDesigner:H};c.default.use(X);var Y={name:"EditDashboard",data:function(){return{hash:this.$route.params.hash,details:null,config:null,widget:null,title:"",startConfig:null,startWidget:null,dialogVisible:!1,dumpConfig:null,uploadOption:{url:"http://localhost/upload/image/"+this.$route.params.hash},isTemplate:!1,pathFrom:""}},watch:{$route:{handler:function(t){this.isTemplate=void 0!==(t.query&&t.query.redirect),this.pathFrom=t.query.from},immediate:!0}},created:function(){var t=this;this.$nextTick(function(){t.getDashboardConfig()})},methods:{handleSave:function(e){var n=this,i=m.Loading.service({fullscreen:!0,text:"正在保存..."}),a=l()({},this.details);a.config=e.page,a.widget=e.widgets;var t=document.getElementById("viewport-screen");p.a.toPng(t,{style:{transform:"scale(1)"}}).then(function(t){a.imgData=t}).then(function(){(n.isTemplate?d.e:u.i)(a).then(function(t){0===t.code&&(n.$notify({title:"成功",message:"保存成功",type:"success",offset:50,duration:2e3}),n.startConfig=r()(e.page),n.startWidget=r()(e.widgets),e.isQuit&&(n.dialogVisible=!1,n.getBack())),n.$nextTick(function(){i.close()})}).catch(function(){n.$notify({title:"错误",message:"保存失败, 请重试",type:"error",offset:50,duration:2e3}),n.$nextTick(function(){i.close()})})}).catch(function(){n.$notify({title:"错误",message:"保存失败, 请重试",type:"error",offset:50,duration:2e3}),n.$nextTick(function(){i.close()})})},handleQuit:function(t){var e=r()(t.page),n=r()(t.widgets);e!==this.startConfig||n!==this.startWidget?(this.dumpConfig=l()({},t),this.dumpConfig.isQuit=!0,this.dialogVisible=!0):this.getBack()},getBack:function(){console.log(this.isTemplate),this.$router.push({path:"/"+(this.isTemplate?"template":"project/"+this.pathFrom)})},saveAndQuit:function(){this.handleSave(this.dumpConfig)},handleUpload:function(e){return new o.a(function(t){t({files:e,status:200})})},getDashboardConfig:function(){var e=this;(this.isTemplate?d.c:u.d)(this.hash).then(function(t){t.data&&(e.details=t.data,t.data.config&&(e.config=t.data.config,e.widget=t.data.widget,e.title=e.config.title+" - 大屏编辑",e.startConfig=r()(t.data.config),e.startWidget=r()(t.data.widget)))})}}},Z=Object(y.a)(Y,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:e.title,expression:"title"}]},[n("vue-page-designer",{attrs:{page:e.config,widgets:e.widget,upload:e.handleUpload,"upload-option":e.uploadOption},on:{save:e.handleSave,quit:e.handleQuit}}),e._v(" "),n("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"300"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("span",[e._v("您的修改未保存！！！『直接退出』将不会保存您所做的修改。")]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{on:{click:e.getBack}},[e._v("直接退出")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.saveAndQuit}},[e._v("保存并退出")])],1)])],1)},[],!1,null,null,null);e.default=Z.exports},QHNk:function(t,e,n){},QJx5:function(t,e,n){},RCXA:function(t,e,n){"use strict";var i=n("gU54");n.n(i).a},SEoB:function(t,e,n){"use strict";var i=n("QJx5");n.n(i).a},T226:function(t,e,n){},T3eB:function(t,e,n){"use strict";var i=n("T226");n.n(i).a},YbQB:function(t,e,n){},agIG:function(t,e,n){"use strict";var i=n("gZjT");n.n(i).a},cLAn:function(b,t,e){!function(){"use strict";var m={escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:n,mimeType:function(t){var e=n(t).toLowerCase();return function(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[e]||""},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise(function(t){e.toBlob(t)}):function(o){return new Promise(function(t){for(var e=window.atob(o.toDataURL().split(",")[1]),n=e.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=e.charCodeAt(a);t(new Blob([i],{type:"image/png"}))})}(e)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),i=n.createElement("base");n.head.appendChild(i);var a=n.createElement("a");return n.body.appendChild(a),i.href=e,a.href=t,a.href},getAndEncode:function(o){return v.impl.options.cacheBust&&(o+=(/\?/.test(o)?"&":"?")+(new Date).getTime()),new Promise(function(n){var t,i=new XMLHttpRequest;if(i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];n(t)},e.readAsDataURL(i.response)}else t?n(t):a("cannot fetch resource: "+o+", status: "+i.status)},i.ontimeout=function(){t?n(t):a("timeout of 30000ms occured while fetching resource: "+o)},i.responseType="blob",i.timeout=3e4,i.open("GET",o,!0),i.send(),v.impl.options.imagePlaceholder){var e=v.impl.options.imagePlaceholder.split(/,/);e&&e[1]&&(t=e[1])}function a(t){console.error(t),n("")}})},uid:function(){var t=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}}(),delay:function(n){return function(e){return new Promise(function(t){setTimeout(function(){t(e)},n)})}},asArray:function(t){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(i){return new Promise(function(t,e){var n=new Image;n.onload=function(){t(n)},n.onerror=e,n.src=i})},width:function(t){var e=i(t,"border-left-width"),n=i(t,"border-right-width");return t.scrollWidth+e+n},height:function(t){var e=i(t,"border-top-width"),n=i(t,"border-bottom-width");return t.scrollHeight+e+n}};function n(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function i(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}var a,o=(a=/url\(['"]?([^'"]+?)['"]?\)/g,{inlineAll:function(e,i,a){return t(e)?Promise.resolve(e).then(r).then(function(t){var n=Promise.resolve(e);return t.forEach(function(e){n=n.then(function(t){return s(t,e,i,a)})}),n}):Promise.resolve(e)},shouldProcess:t,impl:{readUrls:r,inline:s}});function t(t){return-1!==t.search(a)}function r(t){for(var e,n=[];null!==(e=a.exec(t));)n.push(e[1]);return n.filter(function(t){return!m.isDataUrl(t)})}function s(e,n,i,t){return Promise.resolve(n).then(function(t){return i?m.resolveUrl(t,i):t}).then(t||m.getAndEncode).then(function(t){return m.dataAsUrl(t,m.mimeType(n))}).then(function(t){return e.replace(function(t){return new RegExp("(url\\(['\"]?)("+m.escape(t)+")(['\"]?\\))","g")}(n),"$1"+t+"$3")})}var e={resolveAll:function(){return l(document).then(function(t){return Promise.all(t.map(function(t){return t.resolve()}))}).then(function(t){return t.join("\n")})},impl:{readAll:l}};function l(){return Promise.resolve(m.asArray(document.styleSheets)).then(function(t){var n=[];return t.forEach(function(e){try{m.asArray(e.cssRules||[]).forEach(n.push.bind(n))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}}),n}).then(function(t){return t.filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).filter(function(t){return o.shouldProcess(t.style.getPropertyValue("src"))})}).then(function(t){return t.map(e)});function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return o.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}var c={inlineAll:function e(t){return t instanceof Element?n(t).then(function(){return t instanceof HTMLImageElement?u(t).inline():Promise.all(m.asArray(t.childNodes).map(function(t){return e(t)}))}):Promise.resolve(t);function n(e){var t=e.style.getPropertyValue("background");return t?o.inlineAll(t).then(function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))}).then(function(){return e}):Promise.resolve(e)}},impl:{newImage:u}};function u(i){return{inline:function(t){return m.isDataUrl(i.src)?Promise.resolve():Promise.resolve(i.src).then(t||m.getAndEncode).then(function(t){return m.dataAsUrl(t,m.mimeType(i.src))}).then(function(n){return new Promise(function(t,e){i.onload=t,i.onerror=e,i.src=n})})}}}var d={imagePlaceholder:void 0,cacheBust:!1},v={toSvg:p,toPng:function(t,e){return f(t,e||{}).then(function(t){return t.toDataURL()})},toJpeg:function(t,e){return f(t,e=e||{}).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})},toBlob:function(t,e){return f(t,e||{}).then(m.canvasToBlob)},toPixelData:function(e,t){return f(e,t||{}).then(function(t){return t.getContext("2d").getImageData(0,0,m.width(e),m.height(e)).data})},impl:{fontFaces:e,images:c,util:m,inliner:o,options:{}}};function p(e,n){return function(t){void 0===t.imagePlaceholder?v.impl.options.imagePlaceholder=d.imagePlaceholder:v.impl.options.imagePlaceholder=t.imagePlaceholder;void 0===t.cacheBust?v.impl.options.cacheBust=d.cacheBust:v.impl.options.cacheBust=t.cacheBust}(n=n||{}),Promise.resolve(e).then(function(t){return function o(e,n,t){if(!t&&n&&!n(e))return Promise.resolve();return Promise.resolve(e).then(i).then(function(t){return a(e,t,n)}).then(function(t){return r(e,t)});function i(t){return t instanceof HTMLCanvasElement?m.makeImage(t.toDataURL()):t.cloneNode(!1)}function a(t,e,n){var i=t.childNodes;return 0===i.length?Promise.resolve(e):a(e,m.asArray(i),n).then(function(){return e});function a(e,t,n){var i=Promise.resolve();return t.forEach(function(t){i=i.then(function(){return o(t,n)}).then(function(t){t&&e.appendChild(t)})}),i}}function r(v,p){return p instanceof Element?Promise.resolve().then(t).then(e).then(n).then(i).then(function(){return p}):p;function t(){function t(t,e){var n,i;t.cssText?e.cssText=t.cssText:(n=t,i=e,m.asArray(n).forEach(function(t){i.setProperty(t,n.getPropertyValue(t),n.getPropertyPriority(t))}))}t(window.getComputedStyle(v),p.style)}function e(){function e(t){var e=window.getComputedStyle(v,t),n=e.getPropertyValue("content");if(""!==n&&"none"!==n){var i=m.uid();p.className=p.className+" "+i;var a,o,r,s,l,c,u=document.createElement("style");u.appendChild((l="."+i+":"+t,c=(s=e).cssText?(r=(o=o=s).getPropertyValue("content"),o.cssText+" content: "+r+";"):(a=s,m.asArray(a).map(d).join("; ")+";"),document.createTextNode(l+"{"+c+"}"))),p.appendChild(u)}function d(t){return t+": "+a.getPropertyValue(t)+(a.getPropertyPriority(t)?" !important":"")}}[":before",":after"].forEach(function(t){e(t)})}function n(){v instanceof HTMLTextAreaElement&&(p.innerHTML=v.value),v instanceof HTMLInputElement&&p.setAttribute("value",v.value)}function i(){p instanceof SVGElement&&(p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p instanceof SVGRectElement&&["width","height"].forEach(function(t){var e=p.getAttribute(t);e&&p.style.setProperty(t,e)}))}}}(t,n.filter,!0)}).then(h).then(g).then(function(e){n.bgcolor&&(e.style.backgroundColor=n.bgcolor);n.width&&(e.style.width=n.width+"px");n.height&&(e.style.height=n.height+"px");n.style&&Object.keys(n.style).forEach(function(t){e.style[t]=n.style[t]});return e}).then(function(t){return function(t,e,n){return Promise.resolve(t).then(function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)}).then(m.escapeXhtml).then(function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"}).then(function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"}).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t})}(t,n.width||m.width(e),n.height||m.height(e))})}function f(n,i){return p(n,i).then(m.makeImage).then(m.delay(100)).then(function(t){var e=function(t){var e=document.createElement("canvas");if(e.width=i.width||m.width(t),e.height=i.height||m.height(t),i.bgcolor){var n=e.getContext("2d");n.fillStyle=i.bgcolor,n.fillRect(0,0,e.width,e.height)}return e}(n);return e.getContext("2d").drawImage(t,0,0),e})}function h(n){return e.resolveAll().then(function(t){var e=document.createElement("style");return n.appendChild(e),e.appendChild(document.createTextNode(t)),n})}function g(t){return c.inlineAll(t).then(function(){return t})}b.exports=v}()},gQT7:function(t,e,n){},gU54:function(t,e,n){},gZjT:function(t,e,n){},j2iy:function(t,e,n){},"jZ/W":function(t,e,n){"use strict";var i=n("kJq9");n.n(i).a},kJq9:function(t,e,n){},oU21:function(t,e,n){},rd0h:function(t,e,n){"use strict";var i=n("YbQB");n.n(i).a},s0ng:function(t,e,n){},uv85:function(t,e,n){"use strict";var i=n("MYLL");n.n(i).a},vyIy:function(t,e,n){"use strict";var i=n("xPDW");n.n(i).a},wGNh:function(t,e,n){"use strict";var i=n("s0ng");n.n(i).a},xPDW:function(t,e,n){},xiF3:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l});var i=n("NW8w");function a(){return Object(i.a)({url:"/templates",method:"get"})}function o(t){return Object(i.a)({url:"/templates/"+t,method:"get"})}function r(t){return Object(i.a)({url:"/templates/"+t.hash,method:"put",data:t})}function s(t){return Object(i.a)({url:"/templates",method:"post",data:t})}function l(t){return Object(i.a)({url:"/templates/"+t,method:"delete"})}},"xt+e":function(t,e,n){},yXHi:function(t,e,n){"use strict";var i=n("oU21");n.n(i).a}}]);
//# sourceMappingURL=7.3e78dad17d6f55bdc034.js.map