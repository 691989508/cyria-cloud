(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3OEA":function(t,e,n){},"8zpc":function(t,e,n){"use strict";n.r(e);var i=n("P2sY"),o=n.n(i),a=n("QbLZ"),r=n.n(a),l=n("X9Rj"),s=n("L2JU"),c=n("xiF3"),u=n("ZySA"),d={name:"TemplateAlbum",filters:{fullImgUrl:function(t){return"http://quickv.kunteng.org.cn/api"+t}},props:{templates:{type:Array,default:function(){return[]}},rootClass:{type:String,default:"template-list"},activeClass:{type:String,default:"--selected"},h:{type:String,default:"auto"},w:{type:String,default:"auto"}},data:function(){return{tplSelected:{hash:""},blankTemplate:{hash:"blank",name:"空白模板"},imgPreview:!1}},computed:{templatesLocal:function(){return this.templates||[]}},methods:{classThumbnail:function(t,e){var n=this.rootClass+"__thumbnail";return t===e?n+" "+n+this.activeClass:n},onSelectImage:function(t){this.tplSelected=o()({},this.tplSelected,t),this.imgPreview=this.tplSelected.hash!==this.blankTemplate.hash,this.$emit("onselect",t)},removeFromimgSelected:function(){this.imgPreview=!1,this.tplSelected={},this.$emit("onselect",{})}},watch:{templates:function(){this.removeFromimgSelected()}}},p=(n("xah8"),n("KHd+")),h=Object(p.a)(d,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{class:n.rootClass},[i("ul",{class:n.rootClass+"__wrapper"},[i("li",{class:n.rootClass+"__item"},[i("div",{class:n.classThumbnail(n.tplSelected.hash,n.blankTemplate.hash),on:{click:function(t){return n.onSelectImage(n.blankTemplate)}}},[i("div",{class:n.rootClass+"__imgcont"},[i("img",{class:n.rootClass+"__img",attrs:{src:"http://#",height:n.h,width:n.w}})]),n._v(" "),i("label",{class:n.rootClass+"__lbl"},[n._v("\n              "+n._s(n.blankTemplate.name)+"\n        ")])])]),n._v(" "),n._l(n.templatesLocal,function(e,t){return i("li",{key:t,class:n.rootClass+"__item"},[i("div",{class:n.classThumbnail(n.tplSelected.hash,e.hash),on:{click:function(t){return n.onSelectImage(e)}}},[i("div",{class:n.rootClass+"__imgcont"},[i("img",{class:n.rootClass+"__img",attrs:{src:n._f("fullImgUrl")(e.imgUrl),height:n.h,width:n.w}})]),n._v(" "),i("label",{class:n.rootClass+"__lbl"},[n._v("\n              "+n._s(e.config.title)+"\n        ")])])])})],2),n._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:n.imgPreview,expression:"imgPreview"}]},[i("label",[n._v("大屏预览")]),n._v(" "),i("img",{class:n.rootClass+"__img",attrs:{src:n._f("fullImgUrl")(n.tplSelected.imgUrl),height:n.h,width:n.w}})])])},[],!1,null,null,null).exports;Math.easeInOutQuad=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function m(t,e,n){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,o=t-i,a=0;e=void 0===e?500:e;!function t(){a+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(a,i,o,e)),a<e?f(t):n&&"function"==typeof n&&n()}()}var v={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&m(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&m(0,800)}}},b=(n("W05v"),Object(p.a)(v,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},[],!1,null,"2d03f863",null).exports),g=n("oCYn"),y=n("Ddwv"),w=n.n(y);function _(t,e){var n=new w.a(e.target,{text:function(){return t}});n.on("success",function(){g.default.prototype.$message({message:"复制成功",type:"success",duration:1500}),n.off("error"),n.off("success"),n.destroy()}),n.on("error",function(){g.default.prototype.$message({message:"复制失败",type:"error"}),n.off("error"),n.off("success"),n.destroy()}),n.onClick(e)}var k={published:"已发布",unpublish:"未发布"},S={name:"ManageDashboard",components:{Pagination:b,TemplateList:h},directives:{waves:u.a},filters:{statusFilter:function(t){return k[t]||"未发布"},pubUrlFilter:function(t){return t?window.location.protocol+"//"+window.location.host+"/dashboard/"+t:""},needRepublish:function(t){return"published"!==t.publish.status||t.config.timestamp<=t.publish.timestamp}},data:function(){return{delPopover:!1,tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,title:void 0,status:void 0},publishTypeOptions:k,sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],createTable:{},templateList:null,dialogTitle:"",dialogFormVisible:!1,downloadLoading:!1}},computed:r()({},Object(s.b)(["userRouters"])),created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,this.$store.dispatch("GetUserDashboardList",this.listQuery).then(function(t){0<t.data.total&&e.serialList(t.data.items),e.list=t.data.items,e.total=t.data.total||0,setTimeout(function(){e.listLoading=!1},1500)})},handleFilter:function(){this.listQuery.page=1,this.getList()},sortChange:function(t){var e=t.prop,n=t.order;"id"===e&&this.sortByID(n)},sortByID:function(t){this.listQuery.sort="ascending"===t?"+id":"-id",this.handleFilter()},handleCopy:function(t,e){_((0,this.$options.filters.pubUrlFilter)(t),e)},resetTemp:function(){this.createTable={name:"",timestamp:Number(new Date),template:"blank",about:"",mode:"create"}},handleCreate:function(){var e=this;Object(c.c)().then(function(t){e.templateList=t.data.items}),this.resetTemp(),this.dialogTitle="新建大屏",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},handleClone:function(t,e){this.resetTemp(),this.templateList=null,this.dialogTitle="大屏克隆 - <"+e+">",this.createTable.template=t,this.createTable.mode="clone",this.dialogFormVisible=!0},createSubmit:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&Object(l.a)(e.createTable).then(function(t){e.$router.push("/edit/dashboard/"+t.hash)})})},handleUpdate:function(t){var e=this;this.createTable=o()({},t),this.createTable.timestamp=new Date(this.createTable.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},handleDelete:function(n){var i=this;Object(l.b)(n.hash).then(function(t){i.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3});var e=i.list.indexOf(n);i.list.splice(e,1),i.getList()})},handleDownload:function(t){this.downloadLoading=!0,Object(l.c)(t).then(function(t){0===t.code&&(console.log(t),window.location="http://quickv.kunteng.org.cn/api/"+t.data)})},handlePublish:function(t){var e=this;Object(l.g)(t.hash,t.cmd).then(function(t){e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3}),e.getList()})},handleDesign:function(t){this.$router.push("/edit/dashboard/"+t)},handlePreview:function(t){var e=this.$router.resolve({path:"/preview/"+t});window.open(e.href,"_blank")},serialList:function(t){for(var e=0;e<t.length;e++)t[e].sequenceNumber=e+1},onSelectTemplate:function(t){this.createTable.template=t.hash}}},T=(n("K3vm"),Object(p.a)(S,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"大屏名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.handleFilter(t)}},model:{value:n.listQuery.title,callback:function(t){n.$set(n.listQuery,"title",t)},expression:"listQuery.title"}}),n._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{placeholder:"发布状态",clearable:""},model:{value:n.listQuery.status,callback:function(t){n.$set(n.listQuery,"status",t)},expression:"listQuery.status"}},n._l(n.publishTypeOptions,function(t,e){return i("el-option",{key:t,attrs:{label:t,value:e}})}),1),n._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:n.handleFilter}},[n._v(n._s("搜索"))]),n._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:n.handleCreate}},[n._v(n._s("新建"))])],1),n._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],key:n.tableKey,staticStyle:{width:"100%"},attrs:{data:n.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":n.sortChange}},[i("el-table-column",{attrs:{label:"序号",prop:"id",align:"center",width:"60"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("span",[n._v(n._s(t.row.sequenceNumber))])]}}])}),n._v(" "),i("el-table-column",{attrs:{label:"名称","min-width":"150px"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("span",[n._v(n._s(t.row.config.title))])]}}])}),n._v(" "),i("el-table-column",{attrs:{label:"链接","min-width":"250px"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("div",{directives:[{name:"show",rawName:"v-show",value:"published"===e.row.publish.status,expression:"scope.row.publish.status === 'published'"}]},[i("el-link",{attrs:{type:"primary",href:n._f("pubUrlFilter")(e.row.publish.hash),target:"_blank"}},[n._v(n._s(n._f("pubUrlFilter")(e.row.publish.hash)))]),n._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:"复制",placement:"bottom"}},[i("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-document",circle:""},on:{click:function(t){return n.handleCopy(e.row.publish.hash,t)}}})],1),n._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:"下载",placement:"bottom"}},[i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-download",circle:""},on:{click:function(t){return n.handleDownload(e.row.publish.hash)}}})],1)],1)]}}])}),n._v(" "),i("el-table-column",{attrs:{label:"状态","class-name":"status-col",width:"100"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{disabled:n._f("needRepublish")(t.row),content:"内容已更新, 未重新发布",placement:"bottom"}},[i("el-badge",{staticStyle:{"margin-top":"3px"},attrs:{"is-dot":"",hidden:n._f("needRepublish")(t.row)}},[i("el-tag",{attrs:{type:t.row.publish.status}},[n._v(n._s(n._f("statusFilter")(t.row.publish.status)))])],1)],1)]}}])}),n._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"400","class-name":"small-padding fixed-width"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return n.handlePreview(e.row.hash)}}},[n._v(n._s("预览"))]),n._v(" "),i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return n.handleDesign(e.row.hash)}}},[n._v(n._s("编辑"))]),n._v(" "),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(t){return n.handleClone(e.row.hash,e.row.config.title)}}},[n._v(n._s("克隆"))]),n._v(" "),i("div",{staticStyle:{display:"inline-block","padding-left":"10px"}},[i("el-dropdown",{attrs:{trigger:"click",placement:"bottom"},on:{command:n.handlePublish}},[i("el-button",{attrs:{size:"mini",type:"info"}},[n._v(n._s("发布"))]),n._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-tooltip",{attrs:{effect:"dark",content:"删除已发布链接",placement:"left"}},[i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"published"===e.row.publish.status,expression:"scope.row.publish.status === 'published'"}],attrs:{icon:"el-icon-remove-outline",command:{hash:e.row.hash,cmd:"unpublish"}}},[n._v("\n                  "+n._s("停止发布")+"\n                ")])],1),n._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:"生成一个新的链接",placement:"left"}},[i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"unpublish"===e.row.publish.status,expression:"scope.row.publish.status === 'unpublish'"}],attrs:{icon:"el-icon-circle-plus-outline",command:{hash:e.row.hash,cmd:"published"}}},[n._v("\n                  "+n._s(" 公开发布 ")+"\n                ")])],1),n._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:"更新已发布链接的内容",placement:"left"}},[i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"published"===e.row.publish.status&&e.row.config.timestamp>e.row.publish.timestamp,expression:"scope.row.publish.status === 'published' && scope.row.config.timestamp > scope.row.publish.timestamp"}],attrs:{icon:"el-icon-refresh",command:{hash:e.row.hash,cmd:"republish"}}},[n._v("\n                  "+n._s(" 重新发布 ")+"\n                ")])],1)],1)],1)],1),n._v(" "),i("div",{staticStyle:{display:"inline-block","padding-left":"10px"}},[i("el-popover",{ref:"popover-"+e.$index,attrs:{placement:"bottom",width:"200"}},[i("p",[n._v(n._s("确定要删除大屏"+e.row.config.title+"吗?")+" ")]),n._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e._self.$refs["popover-"+e.$index].doClose()}}},[n._v(n._s("取消"))]),n._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e._self.$refs["popover-"+e.$index].doClose(),n.handleDelete(e.row)}}},[n._v(n._s("确定"))])],1),n._v(" "),i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[n._v(n._s("删除"))])],1)],1)]}}])})],1),n._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:0<n.total,expression:"total > 0"}],attrs:{total:n.total,page:n.listQuery.page,limit:n.listQuery.limit},on:{"update:page":function(t){return n.$set(n.listQuery,"page",t)},"update:limit":function(t){return n.$set(n.listQuery,"limit",t)},pagination:n.getList}}),n._v(" "),i("el-dialog",{attrs:{title:n.dialogTitle,visible:n.dialogFormVisible},on:{"update:visible":function(t){n.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{model:n.createTable,"label-position":"top","label-width":"70px"}},[i("el-form-item",{attrs:{label:"大屏名称",placeholder:"请输入大屏名称",prop:"title"}},[i("el-input",{model:{value:n.createTable.name,callback:function(t){n.$set(n.createTable,"name",t)},expression:"createTable.name"}})],1),n._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:this.templateList,expression:"this.templateList"}],attrs:{label:"选择模板"}},[i("template-list",{attrs:{templates:n.templateList},on:{onselect:n.onSelectTemplate}})],1),n._v(" "),i("el-form-item",{attrs:{label:"大屏简介"}},[i("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请填写关于大屏的描述信息"},model:{value:n.createTable.about,callback:function(t){n.$set(n.createTable,"about",t)},expression:"createTable.about"}})],1)],1),n._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){n.dialogFormVisible=!1}}},[n._v(n._s("取消"))]),n._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return n.createSubmit()}}},[n._v(n._s("创建"))])],1)],1)],1)},[],!1,null,null,null));e.default=T.exports},Ddwv:function(t,e,n){var i,o,a;o=[t,n("YDNs"),n("wOJ8"),n("TiCD")],void 0===(a="function"==typeof(i=function(t,e,n,i){"use strict";var o=l(e),a=l(n),r=l(i);function l(t){return t&&t.__esModule?t:{default:t}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var c=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();var u=function(t){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.resolveOptions(e),n.listenClick(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,t),c(i,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===s(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,r.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return d("action",t)}},{key:"defaultTarget",value:function(t){var e=d("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return d("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),i}(a.default);function d(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}t.exports=u})?i.apply(e,o):i)||(t.exports=a)},K3vm:function(t,e,n){"use strict";var i=n("sDFI");n.n(i).a},TiCD:function(t,e,n){var i=n("b+/x"),o=n("jFDo");t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return function(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}(t,e,n);if(i.nodeList(t))return function(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}(t,e,n);if(i.string(t))return function(t,e,n){return o(document.body,t,e,n)}(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},W05v:function(t,e,n){"use strict";var i=n("3OEA");n.n(i).a},YDNs:function(t,e,n){var i,o,a;o=[t,n("gvr7")],void 0===(a="function"==typeof(i=function(t,e){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(e);var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),a=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":n(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();t.exports=a})?i.apply(e,o):i)||(t.exports=a)},ZySA:function(t,e,n){"use strict";function i(t){t.directive("waves",a)}var o=n("P2sY"),s=n.n(o),a=(n("jUE0"),{bind:function(r,l){r.addEventListener("click",function(t){var e=s()({},l.value),n=s()({ele:r,type:"hit",color:"rgba(0, 0, 0, 0.15)"},e),i=n.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var o=i.getBoundingClientRect(),a=i.querySelector(".waves-ripple");switch(a?a.className="waves-ripple":((a=document.createElement("span")).className="waves-ripple",a.style.height=a.style.width=Math.max(o.width,o.height)+"px",i.appendChild(a)),n.type){case"center":a.style.top=o.height/2-a.offsetHeight/2+"px",a.style.left=o.width/2-a.offsetWidth/2+"px";break;default:a.style.top=(t.pageY-o.top-a.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",a.style.left=(t.pageX-o.left-a.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return a.style.backgroundColor=n.color,!(a.className="waves-ripple z-active")}},!1)}});window.Vue&&(window.waves=a,Vue.use(i)),a.install=i;e.a=a},"b+/x":function(t,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},gvr7:function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),o=document.createRange();o.selectNodeContents(t),i.removeAllRanges(),i.addRange(o),e=i.toString()}return e}},hlLk:function(t,e,n){},jFDo:function(t,e,n){var r=n("lNia");function a(t,e,n,i,o){var a=function(e,n,t,i){return function(t){t.delegateTarget=r(t.target,n),t.delegateTarget&&i.call(e,t)}}.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}t.exports=function(t,e,n,i,o){return"function"==typeof t.addEventListener?a.apply(null,arguments):"function"==typeof n?a.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return a(t,e,n,i,o)}))}},jUE0:function(t,e,n){},lNia:function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},sDFI:function(t,e,n){},wOJ8:function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function o(){i.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var a=0,r=i.length;a<r;a++)i[a].fn!==e&&i[a].fn._!==e&&o.push(i[a]);return o.length?n[t]=o:delete n[t],this}},t.exports=n,t.exports.TinyEmitter=n},xah8:function(t,e,n){"use strict";var i=n("hlLk");n.n(i).a},xiF3:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return s});var i=n("NW8w");function o(){return Object(i.a)({url:"/templates",method:"get"})}function a(t){return Object(i.a)({url:"/templates/"+t,method:"get"})}function r(t){return Object(i.a)({url:"/templates/"+t.hash,method:"put",data:t})}function l(t){return Object(i.a)({url:"/templates",method:"post",data:t})}function s(t){return Object(i.a)({url:"/templates/"+t,method:"delete"})}}}]);
//# sourceMappingURL=2.8c844e6561bceca6a3f9.js.map