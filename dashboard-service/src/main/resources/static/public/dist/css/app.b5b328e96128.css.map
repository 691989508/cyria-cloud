{"version":3,"sources":["/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/CommonModule/src/components/Dashboard/Widgets/CommonModule/MonacoEditor.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/Effects/RotateLine/src/components/Dashboard/Widgets/Effects/RotateLine/index.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/Maps/ChinaMap/src/components/Dashboard/Widgets/Maps/ChinaMap/style.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/Maps/ChinaScatterMap/src/components/Dashboard/Widgets/Maps/ChinaScatterMap/index.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/Materials/Picture/src/components/Dashboard/Widgets/Materials/Picture/index.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/Materials/Button/src/components/Dashboard/Widgets/Materials/Button/index.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/Tables/BasicTable/src/components/Dashboard/Widgets/Tables/BasicTable/index.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/Texts/BasicTxtBox/src/components/Dashboard/Widgets/Texts/BasicTxtBox/index.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Widgets/Texts/BasicClock/src/components/Dashboard/Widgets/Texts/BasicClock/index.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Designer/components/Viewport/src/components/Dashboard/Designer/components/Viewport/ReferenceLine.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Designer/components/Viewport/src/components/Dashboard/Designer/components/Viewport/SizeControl.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Designer/components/Viewport/src/components/Dashboard/Designer/components/Viewport/ContextMenu.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Designer/components/Viewport/src/components/Dashboard/Designer/components/Viewport/RulerTool.vue","app.b5b328e96128.css","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Designer/components/Viewport/DragSelect.vue","/home/caizhibang/czb/springboot/learn/Cryia/src/components/Dashboard/Designer/components/Viewport/src/components/Dashboard/Designer/components/Viewport/index.vue"],"names":[],"mappings":"AA6EA,8BACA,YAAA,CACA,wBACA,CCNA,yBAIA,iBAAA,CACA,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,wBAAA,CAAA,qBAAA,CAAA,kBAAA,CACA,uBAAA,CAAA,oBAAA,CAAA,sBACA,CAEA,4BACA,8DAAA,CACA,0BAAA,CACA,YAAA,CACA,4DAAA,CAAA,oDAAA,CACA,kCAAA,CAAA,0BACA,CAEA,uBACA,8DAAA,CACA,0BAAA,CACA,aAAA,CACA,4DAAA,CAAA,oDAAA,CACA,2BACA,CAEA,uBACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,iBAAA,CACA,kBACA,CAEA,+BACA,iBAAA,CACA,SAAA,CACA,WAAA,CACA,OAAA,CACA,QAAA,CACA,4BAAA,CACA,oCAAA,CAAA,4BAAA,CACA,6BAAA,CAAA,qBACA,CAEA,sCACA,iBAAA,CACA,SAAA,CACA,WAAA,CACA,UAAA,CACA,UAAA,CACA,WAAA,CACA,6BAAA,CACA,iBAAA,CACA,wFAKA,CALA,gFAMA,CAEA,2CACA,GACA,+BAAA,CAAA,uBACA,CACA,CAJA,mCACA,GACA,+BAAA,CAAA,uBACA,CACA,CCuCA,aACA,WACA,CC0LA,0BACA,UAAA,CACA,WACA,CC/TA,+BACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,wBAAA,CAAA,qBAAA,CAAA,oBAAA,CAAA,gBAAA,CACA,sBAAA,CACA,mBACA,CCqBA,+BACA,2BAAA,CACA,uBAAA,CACA,oBACA,CACA,6BACA,YAAA,CACA,WAAA,CACA,cACA,CCkJA,wBACA,aACA,CACA,wCACA,WACA,CACA,2BACA,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,kBAAA,CAAA,UAAA,CAAA,MAAA,CACA,6BAAA,CAAA,4BAAA,CAAA,sBAAA,CAAA,kBAAA,CACA,eAAA,CACA,YACA,CACA,8BACA,UACA,CACA,6BACA,UAAA,CACA,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,2BAAA,CAAA,4BAAA,CAAA,yBAAA,CAAA,qBACA,CAEA,sDACA,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,2BAAA,CAAA,4BAAA,CAAA,yBAAA,CAAA,qBAAA,CACA,uBAAA,CAAA,oBAAA,CAAA,sBAAA,CACA,wBAAA,CAAA,qBAAA,CAAA,kBAAA,CACA,kBAAA,CAAA,UAAA,CAAA,MAAA,CACA,WAAA,CACA,OACA,CACA,sCACA,wBACA,CACA,+BACA,kBAAA,CAAA,UAAA,CAAA,MACA,CACA,oCACA,aAAA,CACA,iBAAA,CACA,gBAAA,CACA,UACA,CACA,gEACA,SAAA,CACA,aAAA,CACA,eAAA,CACA,sBAAA,CACA,kBACA,CC3NA,sBACA,YAAA,CACA,cACA,CCuCA,sBACA,YAAA,CACA,cACA,CCoCA,yBACA,UAAA,CACA,WAAA,CACA,cAAA,CACA,WAAA,CACA,KAAA,CACA,MACA,CACA,wBACA,iBAAA,CACA,SAAA,CACA,YAAA,CACA,SAAA,CACA,kBACA,CACA,wBACA,iBAAA,CACA,WAAA,CACA,WAAA,CACA,UAAA,CACA,kBACA,CCTA,gGAIA,iBAAA,CACA,WAAA,CACA,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,uBAAA,CAAA,oBAAA,CAAA,sBAAA,CACA,wBAAA,CAAA,qBAAA,CAAA,kBACA,CACA,wBACA,OAAA,CACA,gBACA,CACA,wBACA,QAAA,CACA,gBACA,CACA,wBACA,QAAA,CACA,gBACA,CACA,wBACA,QAAA,CACA,gBACA,CACA,yBACA,SAAA,CACA,UAAA,CACA,wBAAA,CACA,qBAAA,CACA,mBAAA,CAAA,aACA,CCnFA,6BACA,cAAA,CACA,eAAA,CACA,+BAAA,CACA,iBAAA,CACA,WAAA,CACA,aACA,CACA,+BACA,UAAA,CACA,WAAA,CACA,gBAAA,CACA,cAAA,CACA,iBAAA,CACA,aAAA,CACA,aACA,CACA,qCACA,eAAA,CACA,UACA,CAEA,6BACA,qBAAA,CACA,8CAAA,CAAA,sCAAA,CACA,iBACA,CACA,+BACA,WACA,CACA,qCACA,kBACA,CC0PA,2BACA,MAAA,CACA,KAAA,CACA,SAAA,CACA,eAAA,CACA,wBAAA,CAAA,qBAAA,CAAA,oBAAA,CAAA,gBACA,CAEA,4KACA,iBAAA,CACA,MAAA,CACA,KAAA,CACA,eAAA,CACA,SACA,CAEA,+BACA,UAAA,CACA,WAAA,CACA,SAAA,CACA,UAAA,CACA,uPACA,CAEA,+BACA,UAAA,CACA,WAAA,CACA,QAAA,CACA,UAAA,CACA,mPACA,CAEA,oEACA,iBAAA,CACA,4BAAA,CACA,UAAA,CACA,cACA,CAEA,kCACA,SAAA,CACA,QAAA,CACA,oBACA,CAEA,kCACA,OACA,CAEA,8GACA,WACA,CAEA,4BACA,UAAA,CACA,UAAA,CACA,yNAAA,CACA,eAAA,CACA,gBACA,CAEA,4BACA,SAAA,CACA,WAAA,EC1EE,aD2EF,CACA,2NAAA,CACA,eAAA,CACA,gBACA,CAEA,2BACA,UAAA,CACA,UAAA,CACA,wPAAA,CACA,eAAA,CACA,SACA,CAEA,2BACA,SAAA,CACA,WAAA,EC5EE,aD6EF,CACA,uPAAA,CACA,eAAA,CACA,UACA,CACA,0BACA,iBACA,CAEA,0BACA,cAAA,CACA,aAAA,CACA,eAAA,CACA,UACA,CAEA,0BACA,cAAA,CACA,aAAA,CACA,gBACA,CE7OA,kCACE,iBAAkB,CAClB,wBAAiB,CAAjB,qBAAiB,CAAjB,oBAAiB,CAAjB,gBAAiB,CACjB,eAAe,CACf,UAAU,CACV,WAAW,CACX,kBAAmB,CACnB,qBAAqB,CACrB,+BAA4B,CAA5B,uBAA4B,CAR9B,+CAUI,iBAAkB,CAClB,wBAAiB,CAAjB,qBAAiB,CAAjB,oBAAiB,CAAjB,gBAAiB,CACjB,iBAAiB,CACjB,cAAc,CACd,eAAe,CAdnB,+DAgBM,UAAU,CACV,WAAW,CAIjB,sCACE,iBAAkB,CAClB,6BAAiC,CACjC,UAAW,CACX,yBAAkC,CCdpC,yBACA,UAAA,CACA,WAAA,CACA,aAAA,CACA,uBAAA,CAAA,oBAAA,CAAA,sBAAA,CACA,WAAA,CACA,sKAaA,CACA,iCAAA,CACA,yBAAA,CACA,wBACA,CACA,yBAEA,iCAAA,CAAA,yBACA","file":"app.b5b328e96128.css","sourcesContent":["<template>\n  <div id=\"json-editor\"/>\n</template>\n\n<script>\nimport * as monaco from 'monaco-editor/esm/vs/editor/editor.api.js'\nimport 'monaco-editor/esm/vs/language/json/monaco.contribution'\n\nexport default {\n  props: {\n    codes: {\n      type: String,\n      default: function () {\n        return '{}'\n      }\n    },\n    language: {\n      type: String,\n      default: function () {\n        return 'json'\n      }\n    }\n  },\n  data () {\n    return {\n      monacoEditor: null\n    }\n  },\n  mounted () {\n    this.initEditor()\n  },\n  beforeDestroy () {\n    this.monacoEditor.dispose()\n  },\n  methods: {\n    initEditor () {\n      // custom theme\n      monaco.editor.defineTheme('cryia', {\n        base: 'vs',\n        inherit: true,\n        rules: [{ background: 'EDF9FA' }],\n        colors: {\n          'editor.foreground': '#000000',\n          'editor.background': '#F8F8FF',\n          'editor.selectionBackground': '#B4D5FE',\n          'editor.lineHighlightBackground': '#FFFEEB',\n          'editorCursor.foreground': '#666666',\n          'editorWhitespace.foreground': '#BBBBBB'\n        }\n      })\n\n      // create editor\n      let that = this\n      this.monacoEditor = monaco.editor.create(document.getElementById('json-editor'), {\n        value: that.codes,\n        language: that.language,\n        theme: 'cryia',\n        lineNumbers: 'off',\n        contextmenu: false,\n        minimap: { enabled: false },\n        roundedSelection: false,\n        scrollBeyondLastLine: false,\n        readOnly: false,\n        selectOnLineNumbers: true\n      })\n\n      this.$emit('onMounted', this.monacoEditor) // 编辑器创建完成回调\n\n      this.monacoEditor.onDidChangeModelContent(function (event) { // 编辑器内容changge事件\n        that.$emit('onCodeChange', that.monacoEditor.getValue(), event)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n  #json-editor{\n    height:600px;\n    border: 1px solid #c5c5c5;\n  }\n</style>\n","<template>\n  <div\n    :style=\"{\n      position: 'absolute',\n      width: val.width / w * 100 + '%',\n      height: val.height / h * 100 + '%',\n      left: val.left / w * 100 + '%',\n      top: val.top / h * 100 + '%',\n      zIndex: val.z,\n      fontSize: val.fontSize + 'px',\n      backgroundColor: val.bgColor,\n      color: val.color\n    }\">\n    <div class=\"lay-cont\"></div>\n    <div\n      :style=\"{\n        width: val.width / w * 100 + 'em',\n        height: val.width / w * 100 + 'em'\n      }\"\n      class=\"loader\">\n\n      <div class=\"face\" :class=\"[val.reverse ? 'anti' : 'clockwise']\">\n        <div class=\"circle\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport stylec from './style.vue'\n\nconst WIDGET_NAME = 'RotateLine'\nexport default {\n  name: WIDGET_NAME,\n  group: 'effect',\n  icon: require('./icon/rotate-line.png'),\n  title: '光圈',\n  panel: stylec,\n  setting: {\n    type: WIDGET_NAME,\n    isContainer: false,\n    isUpload: false,\n    hasGuide: true,\n    isChild: true,\n    dragable: true,\n    resizable: true,\n    width: 200,\n    height: 200,\n    left: 400,\n    top: 400,\n    z: 0,\n    color: '#ff8000',\n    name: '光圈', // 组件名称, 可自定义\n    desc: '', // 描述, 可自定义\n    belong: 'page',\n    animationName: '',\n\n    reverse: false,\n    fontSize: 18\n  },\n  props: ['w', 'h', 'val'],\n  data () {\n    return {\n    }\n  },\n  computed: {\n    rotate () {\n      return this.reverse ? this.anti : this.clockwise\n    }\n  }\n}\n</script>\n\n<style scoped>\n.loader {\n    /* width: 20em; */\n    /* height: 20em; */\n    /* font-size: 10px; */\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.clockwise {\n    border-color: currentColor transparent transparent currentColor;\n    border-width: 0.2em 0.2em 0em 0em;\n    --deg: -45deg;\n    animation: animate 3s linear infinite;\n    animation-direction: normal;\n}\n\n.anti {\n    border-color: currentColor currentColor transparent transparent;\n    border-width: 0.2em 0em 0em 0.2em;\n    --deg: -135deg;\n    animation: animate 3s linear infinite;\n    animation-direction: reverse;\n}\n\n.face {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    border-radius: 50%;\n    border-style: solid;\n}\n\n.face .circle {\n    position: absolute;\n    width: 50%;\n    height: 0.1em;\n    top: 50%;\n    left: 50%;\n    background-color: transparent;\n    transform: rotate(var(--deg));\n    transform-origin: left;\n}\n\n.face .circle::before {\n    position: absolute;\n    top: -0.5em;\n    right: -0.5em;\n    content: '';\n    width: 0.6em;\n    height: 0.6em;\n    background-color: currentColor;\n    border-radius: 50%;\n    box-shadow: 0 0 1em,\n                0 0 2em,\n                0 0 3em,\n                0 0 4em,\n                0 0 5em,\n                0 0 0 0.3em rgba(255, 255, 0, 0.1);\n}\n\n@keyframes animate {\n  to {\n      transform: rotate(1turn);\n  }\n}\n</style>\n","<template>\n  <div>\n    <div v-show=\"tab === 1\">\n      <!-- 基础设置 -->\n      <basic-settings :activeElement=\"activeElement\"/>\n\n      <div class=\"panel-item-new\">\n        <div @click=\"isShowMap = !isShowMap\" class=\"panel-item-title\">图表设置<i :class=\"isShowMap ? 'el-icon-caret-bottom' : 'el-icon-caret-right'\" class=\"panel-title-arrow\"></i></div>\n        <div v-show=\"isShowMap\" class=\"panel-item-new-set\">\n          <div class=\"panel-row\">\n            <div class=\"panel-label\">标题</div>\n            <div>\n              <input\n                v-model=\"activeElement.chartTitle\">\n            </div>\n          </div>\n          <div class=\"panel-row\">\n            <div class=\"panel-label\">标题颜色</div>\n            <div class=\"panel-value\">{{ activeElement.titleColor }}</div>\n            <div>\n              <input\n                v-model=\"activeElement.titleColor\"\n                type=\"color\">\n            </div>\n          </div>\n          <div class=\"panel-row\">\n            <div class=\"panel-label\">背景色</div>\n            <div class=\"panel-value panel-value-color-1\">{{ activeElement.bgMapColor }}</div>\n            <div class=\"panel-value panel-value-color-2\">\n              <el-color-picker\n                v-model=\"activeElement.bgMapColor\"\n                show-alpha\n                size=\"mini\"/>\n            </div>\n          </div>\n          <div class=\"panel-row\">\n            <div class=\"panel-label\">边框颜色</div>\n            <div class=\"panel-value panel-value-color-1\">{{ activeElement.mapBorderColor }}</div>\n            <div class=\"panel-value panel-value-color-2\">\n              <el-color-picker\n                v-model=\"activeElement.mapBorderColor\"\n                show-alpha\n                size=\"mini\"/>\n            </div>\n          </div>\n          <div class=\"panel-row\">\n            <div class=\"panel-label\">配置颜色</div>\n            <div>\n              <div\n                v-for=\"(value, index) in activeElement.colorArr\"\n                :key=\"index\"\n                :data-val=\"value\"\n                :data-ind=\"index\"\n                class=\"panel-setcolor-item\">\n                <div class=\"panel-value panel-value-color-1\">{{ value }}</div>\n                <div class=\"panel-value panel-value-color-2\">\n                  <el-color-picker\n                    v-model=\"activeElement.colorArr[index]\"\n                    show-alpha\n                    size=\"mini\"/>\n                </div>\n                <button\n                  style=\"display: none\"\n                  class=\"pannel-setcolor-item-btn\"\n                  @click=\"addLGColor\">添加</button>\n                <button\n                  style=\"display: none\"\n                  class=\"pannel-setcolor-item-btn\"\n                  @click=\"delLGColor(index)\">删除</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"panel-row\">\n            <div class=\"panel-label\">高亮颜色</div>\n            <div class=\"panel-value panel-value-color-1\">{{ activeElement.mapEmphasisAreaColor }}</div>\n            <div class=\"panel-value panel-value-color-2\">\n              <el-color-picker\n                v-model=\"activeElement.mapEmphasisAreaColor\"\n                show-alpha\n                size=\"mini\"/>\n            </div>\n          </div>\n          <div\n            class=\"panel-row\"\n            flex>\n            <div class=\"panel-label\">显示值域条</div>\n            <div class=\"panel-value\">\n              <label class=\"form-switch\">\n                <input\n                  v-model=\"activeElement.showVisualMap\"\n                  type=\"checkbox\" >\n                <i class=\"form-icon\"/>\n              </label>\n            </div>\n          </div>\n          <div\n          v-show=\"activeElement.showVisualMap\"\n          class=\"panel-row\">\n          <div class=\"panel-label\">值域条文本</div>\n          <div class=\"panel-value panel-value-color-1\">{{ activeElement.visualTextColor }}</div>\n          <div class=\"panel-value panel-value-color-2\">\n            <el-color-picker\n              v-model=\"activeElement.visualTextColor\"\n              show-alpha\n              size=\"mini\"/>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"tab === 2\">\n      <data-settings :activeElement=\"activeElement\"/>\n    </div>\n\n    <div v-show=\"tab === 3\">\n      <div\n        class=\"panel-row\"\n        flex>\n        <div class=\"panel-label\">开启轮播</div>\n        <div class=\"panel-value\">\n          <label class=\"form-switch\">\n            <input\n              v-model=\"activeElement.autoToolTip\"\n              type=\"checkbox\" >\n            <i class=\"form-icon\"/>\n          </label>\n        </div>\n      </div>\n      <div\n        v-show=\"activeElement.autoToolTip\"\n        class=\"panel-row\">\n        <div class=\"panel-label\">轮播时间</div>\n        <div>\n          <input\n            v-model=\"activeElement.autoToolTipTime\">\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DataSettings from '../../CommonModule/DataSettings'\nimport BasicSettings from '../../CommonModule/BasicSettings'\n\nexport default {\n  name: 'BraidChinaMapStyle',\n  components: {\n    DataSettings,\n    BasicSettings\n  },\n  props: ['activeElement', 'tab'],\n  data () {\n    return {\n      isShowMap: true\n    }\n  },\n  methods: {\n    addLGColor () {\n      const params = {\n        property: 'colorArr',\n        data: '#0000ff'\n      }\n      this.$vpd.commit('ADD_COLOR', params)\n    },\n    delLGColor (index) {\n      const params = {\n        property: 'colorArr',\n        data: {\n          index: index\n        }\n      }\n      this.$vpd.commit('DELETE_COLOR', params)\n    }\n  }\n}\n</script>\n<style >\n  .monaco-cont{\n    width:200px;\n  }\n</style>\n","<template>\n  <div\n    :style=\"{\n      position: 'absolute',\n      width: val.width / w * 100 + '%',\n      height: val.height / h * 100 + '%',\n      left: val.left / w * 100 + '%',\n      top: val.top / h * 100 + '%',\n      zIndex: val.z,\n      backgroundColor: val.bgColor,\n      color: val.color\n    }\"\n    contenteditable=\"true\">\n    <v-echart\n      :id=\"chartId\"\n      :options=\"options\"\n      autoresize\n      class=\"ffff\"/>\n  </div>\n</template>\n\n<script>\nimport stylec from './style.vue'\nimport dataControl from '../../CommonModule/mixins/dataControl'\n\nimport 'echarts/map/js/china.js'\nimport echarts from 'echarts'\nimport autoToolTip from '../../CommonModule/scripts/echartsAutoToolTip.js'\n\nconst WIDGET_NAME = 'ScatterChinaMap'\nexport default {\n  name: WIDGET_NAME,\n  group: 'map',\n  icon: require('./icon/thumb-chartMap.png'),\n  title: '分布散点图',\n  panel: stylec,\n  setting: {\n    type: WIDGET_NAME,\n    isContainer: false,\n    isUpload: false,\n    hasGuide: true,\n    isChild: true,\n    dragable: true,\n    resizable: true,\n    width: 500,\n    height: 400,\n    left: 50,\n    top: 50,\n    z: 0,\n    color: '#555555',\n    name: '分布散点图', // 组件名称, 可自定义\n    desc: '中国地图', // 描述, 可自定义\n    belong: 'page',\n    animationName: '',\n\n    chartTitle: '', // 图表标题\n    titleColor: '#666666', // 标题颜色\n\n    mapAreaColor: '#333333', // 地图区域颜色\n    mapEffectScatterColor: '#f4e925', // 散点颜色\n    bgMapColor: '', // 地图背景颜色\n    mapBorderColor: '#000000', // 地图地域边框颜色\n    mapEmphasisAreaColor: '#222222', // 高亮区域颜色\n    autoToolTip: false, // 是否开启自动轮播\n    autoToolTipTime: 5000, // 自动轮播时间\n    autoToolTipTimer: null,\n\n    dataAPI: 'https://mock.kunteng.org.cn/mock/5ca2cba34918866472494a14/chartMap', // API拉取地址\n    dataAutoRefresh: false, // 是否自动刷新\n    dataOrigin: 'local', // local 本地 api 远程接口\n    dataRefreshTime: 5, // 自动刷新间隔（秒）\n    dataRefresh: false, // 刷新图表, 控制面板中测试dataApi使用\n\n    // 数据联动配置\n    linkEnable: false, // 开启联动\n    linkIsMain: false, // 是否是数据源\n    linkMainUUID: '', // 上级的UUID, 通过此标志获取联动的数据\n\n    keyPrimary: 'data',\n    keyTarget: 'china', // 响应数据对应的字段名\n    keyXAxis: '', // 从该字段取x轴数据\n    keyYAxis: '', // 从该字段取y轴数据\n\n    staticData: {\n      'code': 0,\n      'data': {\n        'year': 2019,\n        'china': [\n          { 'name': '西宁', 'value': [101.78, 36.62, 219] },\n          { 'name': '黑河', 'value': [127.5, 50.25, 149] },\n          { 'name': '海门', 'value': [121.15, 31.89, 89] },\n          { 'name': '鄂尔多斯', 'value': [109.781327, 39.608266, 12] },\n          { 'name': '招远', 'value': [120.38, 37.35, 12] },\n          { 'name': '舟山', 'value': [122.207216, 29.985295, 92] },\n          { 'name': '齐齐哈尔', 'value': [123.97, 47.33, 14] },\n          { 'name': '盐城', 'value': [120.13, 33.38, 15] },\n          { 'name': '赤峰', 'value': [118.87, 42.28, 86] },\n          { 'name': '青岛', 'value': [120.33, 36.07, 88] },\n          { 'name': '乳山', 'value': [121.52, 36.89, 18] },\n          { 'name': '金昌', 'value': [102.188043, 38.520089, 19] },\n          { 'name': '泉州', 'value': [118.58, 24.93, 21] },\n          { 'name': '莱西', 'value': [120.53, 36.86, 61] },\n          { 'name': '日照', 'value': [119.46, 35.42, 121] },\n          { 'name': '胶南', 'value': [119.97, 35.88, 22] },\n          { 'name': '南通', 'value': [121.05, 32.08, 53] },\n          { 'name': '拉萨', 'value': [91.11, 29.97, 24] },\n          { 'name': '云浮', 'value': [112.02, 22.93, 134] },\n          { 'name': '梅州', 'value': [116.1, 24.55, 25] },\n          { 'name': '文登', 'value': [122.05, 37.2, 75] },\n          { 'name': '上海', 'value': [121.48, 31.22, 5] }\n        ]\n      }\n    }\n  },\n  mixins: [dataControl],\n  props: ['w', 'h', 'val'],\n  data () {\n    return {\n      timer: null,\n      chartId: 'map' + this.val.uuid,\n      dynamicData: {}\n    }\n  },\n  computed: {\n    dataSeries () {\n      if (this.dynamicData[this.val.keyPrimary] && this.dynamicData[this.val.keyPrimary][this.val.keyTarget]) {\n        return this.dynamicData[this.val.keyPrimary][this.val.keyTarget]\n      } else {\n        return []\n      }\n    },\n    options () {\n      return {\n        backgroundColor: this.val.bgMapColor, // 地图背景色\n        title: {\n          text: this.val.chartTitle, // 图表标题\n          textStyle: {\n            color: this.val.titleColor\n          }\n        },\n        tooltip: {\n          trigger: 'item',\n          // formatter: '{b}：{c}'\n          formatter: function (params) {\n            return params.data.name + ': ' + params.data.value[2]\n          }\n        },\n        roamController: {\n          show: false,\n          x: 'right',\n          mapTypeControl: {\n            'china': true\n          }\n        },\n        bmap: {\n          center: [104.114129, 37.550339],\n          zoom: 5,\n          roam: false,\n          mapStyle: {\n            styleJson: [\n              {\n                'featureType': 'water',\n                'elementType': 'all',\n                'stylers': {\n                  'color': '#044161'\n                }\n              },\n              {\n                'featureType': 'land',\n                'elementType': 'all',\n                'stylers': {\n                  'color': '#004981'\n                }\n              },\n              {\n                'featureType': 'boundary',\n                'elementType': 'geometry',\n                'stylers': {\n                  'color': '#064f85'\n                }\n              },\n              {\n                'featureType': 'railway',\n                'elementType': 'all',\n                'stylers': {\n                  'visibility': 'off'\n                }\n              },\n              {\n                'featureType': 'highway',\n                'elementType': 'geometry',\n                'stylers': {\n                  'color': '#004981'\n                }\n              },\n              {\n                'featureType': 'highway',\n                'elementType': 'geometry.fill',\n                'stylers': {\n                  'color': '#005b96',\n                  'lightness': 1\n                }\n              },\n              {\n                'featureType': 'highway',\n                'elementType': 'labels',\n                'stylers': {\n                  'visibility': 'off'\n                }\n              },\n              {\n                'featureType': 'arterial',\n                'elementType': 'geometry',\n                'stylers': {\n                  'color': '#004981'\n                }\n              },\n              {\n                'featureType': 'arterial',\n                'elementType': 'geometry.fill',\n                'stylers': {\n                  'color': '#00508b'\n                }\n              },\n              {\n                'featureType': 'poi',\n                'elementType': 'all',\n                'stylers': {\n                  'visibility': 'off'\n                }\n              },\n              {\n                'featureType': 'green',\n                'elementType': 'all',\n                'stylers': {\n                  'color': '#056197',\n                  'visibility': 'off'\n                }\n              },\n              {\n                'featureType': 'subway',\n                'elementType': 'all',\n                'stylers': {\n                  'visibility': 'off'\n                }\n              },\n              {\n                'featureType': 'manmade',\n                'elementType': 'all',\n                'stylers': {\n                  'visibility': 'off'\n                }\n              },\n              {\n                'featureType': 'local',\n                'elementType': 'all',\n                'stylers': {\n                  'visibility': 'off'\n                }\n              },\n              {\n                'featureType': 'arterial',\n                'elementType': 'labels',\n                'stylers': {\n                  'visibility': 'off'\n                }\n              },\n              {\n                'featureType': 'boundary',\n                'elementType': 'geometry.fill',\n                'stylers': {\n                  'color': '#029fd4'\n                }\n              },\n              {\n                'featureType': 'building',\n                'elementType': 'all',\n                'stylers': {\n                  'color': '#1a5787'\n                }\n              },\n              {\n                'featureType': 'label',\n                'elementType': 'all',\n                'stylers': {\n                  'visibility': 'off'\n                }\n              }\n            ]\n          }\n        },\n        geo: {\n          map: 'china',\n          label: {\n            emphasis: {\n              show: false // 高亮是否显示文字\n            }\n          },\n          roam: false,\n          itemStyle: {\n            normal: {\n              areaColor: this.val.mapAreaColor,\n              borderColor: this.val.mapBorderColor // 地图地域边框颜色\n            },\n            emphasis: {\n              areaColor: this.val.mapEmphasisAreaColor\n            }\n          }\n        },\n        series: [{\n          name: '',\n          type: 'effectScatter',\n          coordinateSystem: 'geo',\n          data: this.dataSeries,\n          encode: {\n            value: 2\n          },\n          symbolSize: function (val) {\n            return val[2] / 10\n          },\n          showEffectOn: 'render',\n          rippleEffect: {\n            brushType: 'stroke'\n          },\n          hoverAnimation: true,\n          label: {\n            normal: {\n              formatter: '{b}',\n              position: 'right',\n              show: false // 显示文字\n            }\n          },\n          itemStyle: {\n            normal: {\n              color: this.val.mapEffectScatterColor, // 散点颜色\n              shadowBlur: 10,\n              shadowColor: this.val.mapEffectScatterColor\n            }\n          },\n          zlevel: 1\n        }]\n      }\n    }\n  },\n  watch: {\n    'val.autoToolTip': function (val) {\n      this.drawBar(val ? this.val.autoToolTipTime : 0)\n    },\n    'val.autoToolTipTime': function (val) {\n      this.drawBar(val)\n    }\n  },\n  methods: {\n    drawBar (time) {\n      // 基于准备好的dom，初始化echarts实例\n      var myChart = echarts.init(document.getElementById(this.chartId))\n      // 使用刚指定的配置项和数据显示图表\n      myChart.setOption(this.options)\n      // 使用轮播插件\n      clearInterval(this.timer)\n      this.timer = autoToolTip.autoHover(myChart, this.options, this.dataSeries.length, time)\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .echarts {\n    width: 100%;\n    height:100%;\n  }\n</style>\n","<template>\n  <div class=\"lz-image\"\n    :style=\"{\n      position: val.belong === 'page' ? 'absolute' : 'relative',\n      width: val.width / w * 100 + '%',\n      height: val.height / h * 100 + '%',\n      left: val.belong === 'page' ? val.left / w * 100 + '%' : '0',\n      top: val.belong === 'page' ? val.top / h * 100 + '%' : '0',\n      zIndex: val.z\n    }\">\n    <img\n      :src=\"val.url\">\n  </div>\n</template>\n\n<script>\nconst WIDGET_NAME = 'PictureUploader'\n\nexport default {\n  name: WIDGET_NAME,\n  group: 'material',\n  icon: require('./icon/thumb-pic.png'),\n  title: '图片',\n  panel: null,\n  setting: {\n    type: WIDGET_NAME,\n    isContainer: false,\n    isUpload: true,\n    hasGuide: true,\n    isChild: true,\n    dragable: true,\n    resizable: true,\n    left: 400,\n    top: 400,\n    z: 0,\n    href: '', // 超链接\n    name: '图片', // 组件名称, 可自定义\n    desc: '', // 描述, 可自定义\n    belong: 'page', // 属于哪个容器\n    animationName: ''\n  },\n  props: [\n    'val', // 图片对象\n    'w', // 包含块的宽\n    'h', // 包含块的高\n    'playState' // 动画播放状态\n  ]\n}\n</script>\n\n<style scoped>\n  .lz-image img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    user-select: none;\n    -webkit-user-drag: none;\n    pointer-events: none;\n  }\n</style>\n","<template>\n  <button\n    :style=\"{\n      position: 'absolute',\n      width: val.width / w * 100 + '%',\n      height: val.height / h * 100 + '%',\n      left: val.left / w * 100 + '%',\n      top: val.top / h * 100 + '%',\n      zIndex: val.z,\n      color: val.color,\n      backgroundColor: val.bgColor,\n      fontSize: val.fontSize + 'px',\n      borderRadius: val.borderRadius + 'px'\n    }\"\n    @mouseover=\"mouseOver($event)\"\n    @mouseleave=\"mouseLeave($event)\"\n    contenteditable=\"true\"\n    class=\"widget-btn\"\n    v-html=\"val.text\"/>\n</template>\n\n<script>\nimport stylec from './style.vue'\n\nconst WIDGET_NAME = 'BraidButton'\n\nexport default {\n  name: WIDGET_NAME,\n  group: 'material',\n  icon: require('./icon/thumb-button.png'),\n  title: '按钮',\n  panel: stylec,\n  setting: {\n    type: WIDGET_NAME,\n    isContainer: false,\n    isUpload: false,\n    hasGuide: true,\n    isChild: true,\n    dragable: true,\n    resizable: true,\n    width: 150,\n    height: 40,\n    left: 400,\n    top: 400,\n    z: 0,\n    fontSize: 14,\n    isHover: false,\n    bgColor: '#42b983',\n    bgColorHover: '#42b983',\n    color: '#ffffff',\n    colorHover: '#ffffff',\n    borderRadius: 4,\n    name: '按钮', // 组件名称, 可自定义\n    desc: '普通按钮', // 描述, 可自定义\n    belong: 'page',\n    animationName: '',\n\n    text: '提交'\n  },\n  props: ['w', 'h', 'val'],\n  methods: {\n    mouseOver (e) {\n      // let param = {\n      //   name: 'isHover',\n      //   value: true\n      // }\n      // this.$vpd.commit('updataData', param)\n    },\n    mouseLeave (e) {\n      // let param = {\n      //   name: 'isHover',\n      //   value: false\n      // }\n      // this.$vpd.commit('updateData', param)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.lz-container {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100%;\n}\n  .widget-btn{\n    outline: none;\n    border: none;\n    cursor: pointer;\n  }\n</style>\n","<template>\n  <div\n    :style=\"{\n      display: val.display,\n      position: 'absolute',\n      width: val.width / w * 100 + '%',\n      height: val.height / h * 100 + '%',\n      left: val.left / w * 100 + '%',\n      top: val.top / h * 100 + '%',\n      zIndex: val.z,\n      fontSize: val.fontSize,\n      background: val.bgColor,\n      borderStyle: 'solid',\n      borderRadius: val.radius + 'px',\n      borderColor: val.borderColor,\n      borderWidth: val.borderWidth + 'px',\n      flexDirection: val.dir,\n      justifyContent: val.justify,\n      alignItems: val.align\n    }\"\n    class=\"table\">\n    <div class=\"lay-cont\"></div>\n    <div\n      class=\"table-title table-tr\"\n      :style=\"{\n        height: val.showTh ? val.thHeight + 'px' : '0px',\n        textAlign: val.tbAlign\n      }\">\n      <div\n        v-show=\"val.showTh && val.showNum\"\n        class=\"table-th\"\n        :style=\"{\n        color: val.thColor,\n        fontSize: val.thFontSize + 'px',\n        background: val.thBgColor,\n        display: val.showTh ? 'flex' : 'none',\n        flex: val.showNum ? 1 : 0\n        }\">{{val.thNumText}}</div>\n      <div\n        v-for=\"(item, index) in val.dataJSON.data.columns\"\n        :key=\"item.id\"\n        class=\"table-th\"\n        :style=\"{\n          color: val.thColor,\n          fontSize: val.thFontSize + 'px',\n          background: val.thBgColor,\n          display: val.showTh ? 'flex' : 'none',\n          flex: val.tbPercent.split(',')[index],\n          borderRight: index === val.dataJSON.data.columns.length-1 ? '' : val.tbBorderRgiht\n        }\"><span>{{item.name}}</span></div>\n    </div>\n    <!-- 表身 -->\n    <div\n      :style=\"{\n        height: val.showTh ? val.height - val.thHeight + 'px' : val.height + 'px'\n      }\"\n      class=\"table-body\">\n      <!-- 表内容块 -->\n      <div\n        v-for=\"(item, index) in val.dataJSON.data.rows.slice(0, val.dataLength)\"\n        :key=\"item.id\"\n        class=\"table-tr\" >\n        <div\n          v-show=\"val.showNum\"\n          class=\"table-td table-td-num\">\n          <span\n            :style=\"{\n            width: val.thNumWidth + 'px',\n            height: val.thNumWidth + 'px',\n            color: val.thNumColor,\n            fontSize: val.thNumFontSize + 'px',\n            lineHeight: val.thNumWidth + 'px',\n            borderRadius: val.thNumWidth / 2 + 'px',\n            backgroundColor: val.thNumType === 'none' ? '' : (val.thNumBg[index] || val.thNumBg[val.thNumBg.length-1])\n          }\">{{index + 1}}</span>\n        </div>\n        <div\n          v-for=\"(value, key, index) in item\"\n          :key=\"item[value]\"\n          :style=\"{\n          color: val.tbColor,\n          fontSize: val.tbFontSize + 'px',\n          flex: val.tbPercent.split(',')[index],\n          textAlign: val.tbAlign,\n          borderRight: value === val.dataJSON.data.columns.length-1 ? '' : val.tbBorderRgiht\n          }\"\n          class=\"table-td\"><span>{{item[key]}}</span></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport stylec from './style.vue'\nconst WIDGET_NAME = 'BasicTable'\n\nexport default {\n  name: WIDGET_NAME,\n  group: 'table',\n  icon: require('./icon/thumb-table.png'),\n  title: '表格',\n  panel: stylec,\n  setting: {\n    type: WIDGET_NAME,\n    isContainer: false,\n    hasGuide: true,\n    isUpload: false,\n    isChild: true,\n    dragable: true,\n    resizable: true,\n    width: 550,\n    height: 300,\n    left: 400,\n    top: 400,\n    z: 0,\n    name: '表格', // 组件名称, 可自定义\n    desc: '', // 描述, 可自定义\n    belong: 'page',\n    animationName: '',\n\n    display: 'block',\n    bgColor: '',\n    backPic: '',\n    backPicUrl: '',\n    radius: 0,\n    borderColor: '#000000',\n    borderWidth: 0,\n    dir: 'row',\n    justify: 'flex-start',\n    align: 'flex-start',\n    fontSize: '14px',\n\n    showTh: true, // 是否显示表头\n    thHeight: 40, // 表头高度\n    thFontSize: 14, // 表头文本大小\n    thBgColor: '#eeeeee', // 表头背景色\n    thColor: '#333333', // 表头文本颜色\n\n    showNum: true, // 是否添加序号\n    thNumText: '序号', // 序号显示文字\n    thNumColor: '#ffffff', // 序号文本颜色\n    thNumFontSize: 14, // 序号文本字体大小\n    thNumWidth: 36, // 序号圆大小\n    thNumType: 'circle', // 序号样式 none:无样式，circle: 圆形\n    thNumBg: ['#42b983', '#c03639', '#2196f3'], // 序号背景色\n\n    tbColor: '#999999', // 表格文本颜色\n    tbFontSize: 14, // 表格文本字体大小\n    tbAlign: 'center', // 表格对齐方式\n    tbBorderRgiht: '',\n    tbPercent: '1, 1, 1, 1', // 个列比例\n    dataLength: 4, // 表格行数\n    dataJSON: {\n      'status': 0,\n      'msg': '',\n      'data': {\n        'columns': [\n          {\n            'id': 'area',\n            'name': '区域',\n            'textAlign': 'center'\n          },\n          {\n            'id': 'lastMonth',\n            'name': '上月业绩',\n            'textAlign': 'center'\n          },\n          {\n            'id': 'thisMonth',\n            'name': '本月业绩',\n            'textAlign': 'center'\n          },\n          {\n            'id': 'diff',\n            'name': '增长业绩',\n            'textAlign': 'center'\n          }\n        ],\n        'rows': [\n          {\n            'area': '吉林',\n            'lastMonth': 4922913,\n            'thisMonth': 9997721,\n            'diff': 5074808\n          },\n          {\n            'area': '内蒙古',\n            'lastMonth': 1222913,\n            'thisMonth': 9567721,\n            'diff': 3474808\n          },\n          {\n            'area': '云南',\n            'lastMonth': 3222913,\n            'thisMonth': 6597721,\n            'diff': 5674808\n          },\n          {\n            'area': '广西',\n            'lastMonth': 3452913,\n            'thisMonth': 6787721,\n            'diff': 3904808\n          },\n          {\n            'area': '广东',\n            'lastMonth': 3452913,\n            'thisMonth': 6787721,\n            'diff': 3904808\n          },\n          {\n            'area': '湖南',\n            'lastMonth': 3222913,\n            'thisMonth': 6597721,\n            'diff': 5674808\n          },\n          {\n            'area': '乌鲁木齐',\n            'lastMonth': 3222913,\n            'thisMonth': 6597721,\n            'diff': 5674808\n          }\n        ]\n      }\n    }\n  },\n  props: ['w', 'h', 'val'],\n  data () {\n    return {\n      color: ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .table{\n    margin: 0 auto;\n  }\n  .table-title .table-tr{\n    height:100%;\n  }\n  .table-tr{\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    overflow: hidden;\n    border-top:0;\n  }\n  .table-title{\n    width: 100% ;\n  }\n  .table-body{\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .table-th, .table-td {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    flex:1;\n    height:100%;\n    width:0;\n  }\n  .table-td:last-child{\n    border-right:0 !important;\n  }\n  .table-td-num{\n    flex: 1;\n  }\n  .table-td-num span{\n    display: block;\n    text-align: center;\n    line-height: 36px;\n    color:#ffffff;\n  }\n  .table-th span, .table-td span{\n    width: 90%;\n    display: block;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    white-space: nowrap;\n  }\n</style>\n","<template>\n  <div\n    class=\"txt\"\n    v-html=\"val.text\"\n    contenteditable=\"true\"\n    :style=\"{\n      position: val.belong === 'page' ? 'absolute' : 'relative',\n      left: val.belong === 'page' ? val.left / w * 100 + '%' : '0',\n      top: val.belong === 'page' ? val.top / h * 100 + '%' : '0',\n      width: val.width / w * 100 + '%',\n      minHeight: val.height / h * 100 + '%',\n      zIndex: val.z,\n      lineHeight: val.height + 'px',\n      fontSize: val.fontSize + 'px',\n      fontFamily: val.fontFamily,\n      color: val.color,\n      textAlign: val.textAlign,\n      fontWeight: val.fontWeight ? 'bold': 'normal'\n    }\">\n  </div>\n</template>\n\n<script>\nimport stylec from './style.vue'\n\nconst WIDGET_NAME = 'BasicTxtBox'\n\nexport default {\n  name: WIDGET_NAME,\n  group: 'text',\n  icon: require('./icon/thumb-text.png'),\n  title: '文本框',\n  panel: stylec,\n  setting: {\n    type: WIDGET_NAME,\n    isContainer: false,\n    isUpload: false,\n    hasGuide: true,\n    isChild: true,\n    dragable: true,\n    resizable: true,\n    width: 250,\n    height: 60,\n    left: 400,\n    top: 400,\n    z: 0,\n    lineHeight: 1.6,\n    fontSize: 20,\n    fontFamily: 'Microsoft YaHei',\n    fontWeight: false,\n    color: '#000000',\n    textAlign: 'center',\n    text: '文本',\n    name: '文本框', // 组件名称, 可自定义\n    desc: '', // 描述, 可自定义\n    href: '',\n    belong: 'page',\n    animationName: ''\n  },\n  // 属性含义参照 widgets/pic/index.vue\n  props: ['val', 'h', 'w']\n}\n</script>\n\n<style scoped>\n  .txt {\n    outline: none;\n    font-size: 28px;\n  }\n</style>\n","<template>\n  <div\n    class=\"txt\"\n    v-html=\"timeStr\"\n    :style=\"{\n      position: val.belong === 'page' ? 'absolute' : 'relative',\n      left: val.belong === 'page' ? val.left / w * 100 + '%' : '0',\n      top: val.belong === 'page' ? val.top / h * 100 + '%' : '0',\n      width: val.width / w * 100 + '%',\n      minHeight: val.height / h * 100 + '%',\n      zIndex: val.z,\n      lineHeight: val.height + 'px',\n      fontSize: val.fontSize + 'px',\n      fontFamily: val.fontFamily,\n      color: val.color,\n      textAlign: val.textAlign,\n      fontWeight: val.fontWeight ? 'bold': 'normal',\n      letterSpacing: val.fontSpacing + 'px'\n    }\">\n  </div>\n</template>\n\n<script>\nimport stylec from './style.vue'\n\nconst WIDGET_NAME = 'BasicRTClock'\n\nexport default {\n  name: WIDGET_NAME,\n  group: 'text',\n  icon: require('./icon/thumb-time.png'),\n  title: '实时时间',\n  panel: stylec,\n  setting: {\n    type: WIDGET_NAME,\n    isContainer: false,\n    isUpload: false,\n    hasGuide: true,\n    isChild: true,\n    dragable: true,\n    resizable: true,\n    width: 350,\n    height: 60,\n    left: 400,\n    top: 400,\n    z: 0,\n    name: '实时时间',\n    belong: 'page',\n    animationName: '',\n\n    lineHeight: 1.6,\n    fontSize: 20,\n    fontFamily: 'Microsoft YaHei',\n    fontWeight: false,\n    color: '#000000',\n    textAlign: 'center',\n    href: '',\n\n    fontSpacing: 0,\n    timeType: 'y-m-d-h-m-s'\n  },\n  props: ['val', 'h', 'w'],\n  data () {\n    return {\n      timeStr: ''\n    }\n  },\n  mounted () {\n    let _this = this\n    this.timer = setInterval(function () { _this.timeStr = _this.dateFormat() })\n  },\n  beforeDestroy: function () {\n    if (this.timer) {\n      clearInterval(this.timer)\n    }\n  },\n  methods: {\n    dateFormat: function () {\n      var date = new Date()\n      var year = date.getFullYear()\n      /* 在日期格式中，月份是从0开始的，因此要加0\n       * 使用三元表达式在小于10的前面加0，以达到格式统一  如 09:11:05\n       * */\n      var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1\n      var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate()\n      var hours = date.getHours() < 10 ? '0' + date.getHours() : date.getHours()\n      var minutes = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\n      var seconds = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds()\n      // 拼接\n      let str = ''\n      switch (this.val.timeType) {\n        case 'y-m-d':\n          str = year + '-' + month + '-' + day\n          break\n        case 'y-m-d-h-m-s':\n          str = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds\n          break\n        default:\n          str = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds\n      }\n      return str\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .txt {\n    outline: none;\n    font-size: 28px;\n  }\n</style>\n","<template>\n  <div\n    v-show=\"moving\"\n    class=\"guides\">\n    <!-- 横线 -->\n    <div\n      v-for=\"val in horiz\"\n      v-show=\"attachHoriz(val.val)\"\n      :key=\"val.id\"\n      :style=\"{top: val.val + 'px'}\"\n      class=\"horiz\"/>\n\n    <!-- 竖线 -->\n    <div\n      v-for=\"val in verti\"\n      v-show=\"attachVerti(val.val)\"\n      :key=\"val.id\"\n      :style=\"{left: val.val + 'px'}\"\n      class=\"verti\"/>\n  </div>\n</template>\n\n<script>\nimport vpd from '../../mixins/vpd'\n\nexport default {\n  name: 'RefLines',\n  mixins: [vpd],\n  computed: {\n    moving () {\n      return this.$vpd.state.moving\n    },\n    guides () {\n      var state = this.$vpd.state\n      var guides = []\n      var uuid = state.uuid\n\n      state.widgets.forEach(item => {\n        // 排除选中元素\n        if (item.hasGuide && item.uuid === uuid) return\n        // 排除容器中的元件\n        if (item.hasGuide && item.belong !== 'page') return\n\n        guides.push({\n          uuid: item.uuid,\n          width: item.width,\n          height: item.height,\n          top: item.top,\n          left: item.left\n        })\n      })\n\n      return guides\n    },\n    /**\n     * 获取参考线\n     *\n     * 取画布中线以及每个元件上下边的坐标\n     * 排除正在移动的元件\n     * 排除画布边缘坐标\n     * 排除重复坐标\n     */\n    horiz () {\n      var guides = this.guides\n      var cor = []\n\n      guides.forEach(val => {\n        var top = val.top\n        var bottom = top + val.height\n\n        if (cor.indexOf(top) < 0 && top !== 0) {\n          cor.push({\n            id: `horiz-${val.uuid}-${top}`,\n            val: top\n          })\n        }\n        if (cor.indexOf(bottom) < 0) {\n          cor.push({\n            id: `horiz-${val.uuid}-${bottom}`,\n            val: bottom\n          })\n        }\n      })\n\n      return cor\n    },\n\n    verti () {\n      var guides = this.guides\n      var cor = [375]\n\n      guides.forEach(val => {\n        var left = val.left\n        var right = left + val.width\n\n        if (cor.indexOf(left) < 0 && left !== 0) {\n          cor.push({\n            id: `verti-${val.uuid}-${left}`,\n            val: left\n          })\n        }\n        if (cor.indexOf(right) < 0 && right !== 0) {\n          cor.push({\n            id: `verti-${val.uuid}-${right}`,\n            val: right\n          })\n        }\n      })\n\n      return cor\n    },\n\n    // 移动元素上下边坐标\n    horizontal () {\n      var a = this.$vpd.state.activeElement\n      if (a) {\n        var h = Math.round(a.height)\n        return [a.top, a.top + h]\n      } else {\n        return []\n      }\n    },\n\n    // 移动元素左中右坐标\n    vertical () {\n      var a = this.$vpd.state.activeElement\n      if (a) {\n        var w = Math.round(a.width / 2)\n        return [a.left, a.left + w, a.left + w * 2]\n      } else {\n        return []\n      }\n    }\n  },\n  methods: {\n    attachHoriz (value) {\n      return this.horizontal.some(val => Math.abs(val - value) <= 1)\n    },\n    attachVerti (value) {\n      return this.vertical.some(val => Math.abs(val - value) <= 1)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.guides {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 999;\n  top: 0;\n  left: 0;\n}\n.verti {\n  position: absolute;\n  width: 1px;\n  height: 1000%;\n  top: -50px;\n  background: #18ffff;\n}\n.horiz {\n  position: absolute;\n  height: 0.5px;\n  width: 1000%;\n  left: -500%;\n  background: #18ffff;\n}\n</style>\n","<template>\n  <div v-show=\"elm\">\n    <!-- 左 -->\n    <div\n      :style=\"{\n        height: elm.height + 'px',\n        top: elm.top + 'px',\n        left: elm.left + 'px'\n      }\"\n      class=\"verti\"\n      @mousedown=\"handlemousedown($event, 'left', 'left', 'width')\">\n      <div class=\"square\"/>\n    </div>\n\n    <!-- 右 -->\n    <div\n      :style=\"{\n        height: elm.height + 'px',\n        top: elm.top + 'px',\n        left: elm.left + elm.width + 'px'\n      }\"\n      class=\"verti\"\n      @mousedown=\"handlemousedown($event, 'right', 'width')\">\n      <div class=\"square\"/>\n    </div>\n\n    <!-- 上 -->\n    <div\n      :style=\"{\n        width: elm.width + 'px',\n        top: elm.top + 'px',\n        left: elm.left + 'px'\n      }\"\n      class=\"horiz\"\n      @mousedown=\"handlemousedown($event, 'up', 'top', 'height')\">\n      <div class=\"square\"/>\n    </div>\n\n    <!-- 下 -->\n    <div\n      :style=\"{\n        width: elm.width + 'px',\n        top: elm.top + elm.height + 'px',\n        left: elm.left + 'px'\n      }\"\n      class=\"horiz\"\n      @mousedown=\"handlemousedown($event, 'down', 'height')\">\n      <div class=\"square\"/>\n    </div>\n\n    <!-- 左上 -->\n    <div\n      :style=\"{\n        width: elm.width + 'px',\n        top: elm.top + 'px',\n        left: elm.left - (elm.width / 2)  + 'px'\n      }\"\n      class=\"slope\"\n      @mousedown=\"handlemousedown($event, 'upLeft', 'width', 'height')\">\n      <div class=\"square\"/>\n    </div>\n\n    <!-- 右上 -->\n    <div\n      :style=\"{\n        width: elm.width + 'px',\n        top: elm.top + 'px',\n        left: elm.left + (elm.width / 2)  + 'px'\n      }\"\n      class=\"slant\"\n      @mousedown=\"handlemousedown($event, 'upRight', 'width', 'height')\">\n      <div class=\"square\"/>\n    </div>\n\n    <!-- 左下 -->\n    <div\n      :style=\"{\n        width: elm.width + 'px',\n        top: elm.top + elm.height + 'px',\n        left: elm.left - (elm.width / 2)  + 'px'\n      }\"\n      class=\"slant\"\n      @mousedown=\"handlemousedown($event, 'downLeft', 'width', 'height')\">\n      <div class=\"square\"/>\n    </div>\n\n    <!-- 右下 -->\n    <div\n      :style=\"{\n        width: elm.width + 'px',\n        top: elm.top + elm.height + 'px',\n        left: elm.left + (elm.width / 2)  + 'px'\n      }\"\n      class=\"slope\"\n      @mousedown=\"handlemousedown($event, 'downRight', 'width', 'height')\">\n      <div class=\"square\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport vpd from '../../mixins/vpd'\n\nexport default {\n  mixins: [vpd],\n  data () {\n    return {\n      type: '' // 调整方向 left | right | up | down | upLeft | upRight | downLeft | downRight\n    }\n  },\n  computed: {\n    elm () {\n      var target = this.$vpd.state.activeElement\n\n      if (!target.resizable || target.belong !== 'page') return ''\n\n      return target\n    }\n  },\n\n  methods: {\n    handlemousedown (e, type, originX, originY) {\n      e.stopPropagation()\n      this.type = type\n      this.$vpd.commit('INIT_MOVE', {\n        startX: e.pageX,\n        startY: e.pageY,\n        originX: this.elm[originX],\n        originY: this.elm[originY],\n        originTop: this.elm['top'],\n        originLeft: this.elm['left']\n      })\n\n      document.addEventListener('mousemove', this.handlemousemove, true)\n      document.addEventListener('mouseup', this.handlemouseup, true)\n    },\n\n    handlemousemove (e) {\n      e.stopPropagation()\n      e.preventDefault()\n\n      this.$vpd.commit('RESIZE_WIDGET', {\n        x: e.pageX,\n        y: e.pageY,\n        type: this.type\n      })\n    },\n\n    handlemouseup () {\n      document.removeEventListener('mousemove', this.handlemousemove, true)\n      document.removeEventListener('mouseup', this.handlemouseup, true)\n      this.$vpd.commit('STOP_MOVE')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.verti,\n.horiz,\n.slope,\n.slant {\n  position: absolute;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.verti {\n  width: 0;\n  cursor: ew-resize;\n}\n.horiz {\n  height: 0;\n  cursor: ns-resize;\n}\n.slope {\n  height: 0;\n  cursor: se-resize;\n}\n.slant {\n  height: 0;\n  cursor: ne-resize;\n}\n.square {\n  width: 6px;\n  height: 6px;\n  border: 1px solid #2196f3;\n  background-color: #fff;\n  flex-shrink: 0;\n}\n</style>\n","<template>\n  <div class=\"right-menu\" :style=\"style\"  v-show=\"show\"\n    @mousedown.stop\n    @contextmenu.prevent\n  >\n    <a href=\"javascript:;\" @click=\"handleCopy\">复制</a>\n    <a href=\"javascript:;\" @click=\"HandleDelete\">删除</a>\n  </div>\n</template>\n\n<script>\nimport vpd from '../../mixins/vpd'\nexport default {\n  name: 'context-menu',\n  mixins: [vpd],\n  data () {\n    return {\n      triggerShowFn: () => {},\n      triggerHideFn: () => {},\n      x: null,\n      y: null,\n      style: {},\n      show: false,\n      target: null\n    }\n  },\n  mounted () {\n    this.bindEvents()\n    this.bindHideEvents()\n  },\n  beforeDestroy () {\n    this.unbindEvents()\n    this.unbindHideEvents()\n  },\n  watch: {\n    show (show) {\n      if (show) {\n        this.bindHideEvents()\n      } else {\n        this.unbindHideEvents()\n      }\n    },\n    target (target) {\n      this.bindEvents()\n    }\n  },\n  methods: {\n    HandleDelete () {\n      this.$vpd.commit('DELETE_WIDGET')\n      this.show = false\n    },\n    handleCopy () {\n      this.$vpd.commit('COPY_WIDGET')\n      this.show = false\n    },\n    // 初始化事件\n    bindEvents () {\n      if (!this.target) return\n      this.triggerShowFn = this.contextMenuHandler.bind(this)\n      this.target.addEventListener('contextmenu', this.triggerShowFn)\n    },\n    // 取消绑定事件\n    unbindEvents () {\n      if (!this.target) return\n      this.target.removeEventListener('contextmenu', this.triggerShowFn)\n    },\n    // 绑定隐藏菜单事件\n    bindHideEvents () {\n      this.triggerHideFn = this.clickDocumentHandler.bind(this)\n      document.addEventListener('mousedown', this.triggerHideFn)\n      document.addEventListener('mousewheel', this.triggerHideFn)\n    },\n    // 取消绑定隐藏菜单事件\n    unbindHideEvents () {\n      if (!this.target) return\n      this.target.removeEventListener('mousedown', this.triggerHideFn)\n      this.target.removeEventListener('mousewheel', this.triggerHideFn)\n    },\n    // 鼠标点击事件处理器\n    clickDocumentHandler (e) {\n      if (!this.target) {\n        this.target = document.getElementById('viewport')\n      }\n\n      this.show = false\n    },\n    // 右键事件事件处理\n    contextMenuHandler (e) {\n      this.x = e.pageX\n      this.y = e.pageY\n\n      this.show = true\n      this.layout()\n      e.preventDefault()\n    },\n    // 布局\n    layout () {\n      this.style = {\n        left: this.x + 'px',\n        top: this.y + 'px'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.right-menu {\n  position: fixed;\n  background: #fff;\n  border: solid 1px rgba(0, 0, 0, .2);\n  border-radius: 3px;\n  z-index: 999;\n  display: block;\n}\n.right-menu a {\n  width: 75px;\n  height: 28px;\n  line-height: 28px;\n  font-size: 14px;\n  text-align: center;\n  display: block;\n  color: #1a1a1a;\n}\n.right-menu a:hover {\n  background: #eee;\n  color: #fff;\n}\n\n.right-menu {\n    border: 1px solid #eee;\n    box-shadow: 0 0.5em 1em 0 rgba(0,0,0,.1);\n    border-radius: 1px;\n}\n.right-menu a {\n    padding: 2px;\n}\n.right-menu a:hover {\n    background: #2196f3;\n}\n</style>\n","<template>\n  <div\n    id=\"rulerTool\"\n    :style=\"{ width: rulerWidth + 'px', height: rulerHeight + 'px', position:position }\"\n    class=\"ScaleBox\"\n    onselectstart=\"return false;\">\n    <div v-show=\"rulerToggle\" id=\"levelRuler\" class=\"ScaleRuler_h\" @mousedown.stop=\"levelDragRuler\">\n      <span\n        v-for=\"(item,index) in xScale\"\n        :key=\"index\" :style=\"{left:index * 50 + 2 + 'px'}\"\n        class=\"n\">{{ item.id }}\n      </span>\n    </div>\n\n    <div v-show=\"rulerToggle\" id=\"verticalRuler\" class=\"ScaleRuler_v\" @mousedown.stop=\"verticalDragRuler\">\n      <span\n        v-for=\"(item,index) in yScale\"\n        :key=\"index\"\n        :style=\"{top:index * 50 + 2 + 'px'}\"\n        class=\"n\">{{ item.id }}\n      </span>\n    </div>\n\n    <div id=\"levelDottedLine\" :style=\"{top:verticalDottedTop + 'px'}\" class=\"RefLine_h\">\n      <span class=\"title-v\" v-show=\"isDrag\">{{ verticalDottedTop - 17 + 'px' }}</span>\n    </div>\n\n    <div id=\"verticalDottedLine\" :style=\"{left:levelDottedLeft + 'px'}\" class=\"RefLine_v\">\n      <span class=\"title-h\" v-show=\"isDrag\">{{ levelDottedLeft - 17 + 'px' }}</span>\n    </div>\n\n    <div\n      v-for=\"item in levelLineList\"\n      :id=\"item.id\"\n      :title=\"item.title\"\n      :style=\"{top:item.top+ 'px'}\"\n      :key=\"item.id\"\n      class=\"RefLine_h\"\n      @dblclick=\"removeLevelLine(item.id)\"\n      @mousedown=\"dragLevelLine(item.id)\">\n    </div>\n    <div\n      v-for=\"item in verticalLineList\"\n      :id=\"item.id\"\n      :title=\"item.title\"\n      :style=\"{left:item.left+ 'px'}\"\n      :key=\"item.id\"\n      class=\"RefLine_v\"\n      @dblclick=\"removeVerticalLine(item.id)\"\n      @mousedown=\"dragVerticalLine(item.id)\"/>\n\n    <div\n      id=\"content\"\n      :style=\"{left: contentLayout.left + 'px', top: contentLayout.top + 'px', padding: paddingTop + 'px'}\">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'VueRulerTool',\n  components: {},\n  props: {\n    position: {\n      type: String,\n      default: 'relative',\n      validator: function (val) {\n        return ['absolute', 'fixed', 'relative', 'static', 'inherit'].indexOf(val) !== -1\n      }\n    },\n    // 热键开关\n    isHotKey: {\n      type: Boolean, default: true\n    },\n    // 刻度修正(根据content进行刻度重置)\n    isScaleRevise: {\n      type: Boolean, default: false\n    },\n    // 预置参考线\n    presetLine: {\n      type: Array,\n      default: () => {\n        return [] // { type: 'l', site: 50 }, { type: 'v', site: 180 }\n      }\n    },\n    // 内容部分布局\n    contentLayout: {\n      type: Object,\n      default: () => {\n        return { top: 0, left: 0 }\n      }\n    },\n    // 标尺辅助线显示开关\n    rulerToggle: {\n      type: Boolean,\n      default: true\n    },\n    width: {\n      type: Number,\n      default: 1920\n    },\n    height: {\n      type: Number,\n      default: 1080\n    },\n    zoom: {\n      type: Number,\n      default: 100\n    }\n  },\n  data () {\n    return {\n      xScale: [], // 水平刻度\n      yScale: [], // 垂直刻度\n      refWidth: 18,\n      refHeight: 18,\n      topSpacing: 60, // 标尺与窗口上间距\n      leftSpacing: 40, //  标尺与窗口左间距\n      isDrag: false,\n      dragFlag: '', // 拖动开始标记，可能值x(从水平标尺开始拖动),y(从垂直标尺开始拖动)\n      levelLineList: [], // 生成的水平线列表\n      verticalLineList: [], // 生成的垂直线列表\n      levelDottedLeft: -999, // 水平虚线位置\n      verticalDottedTop: -999, // 垂直虚线位置\n      dragLineId: '', // 被移动线的ID\n\n      timer: null // 控制双击和拖动事件\n    }\n  },\n  computed: {\n    paddingTop () {\n      return this.rulerToggle ? 18 : 0\n    },\n    rulerWidth () {\n      return this.width * (this.zoom / 100) + 18\n    },\n    rulerHeight () {\n      return this.height * (this.zoom / 100) + 18\n    }\n  },\n  watch: {\n    width: function (n, o) {\n      this.scaleCalc()\n    },\n    height: function (n, o) {\n      this.scaleCalc()\n    },\n    zoom: function (n, o) {\n      this.scaleCalc()\n    }\n  },\n  mounted () {\n    document.documentElement.addEventListener('mousemove', this.dottedLineMove, true)\n    document.documentElement.addEventListener('mouseup', this.dottedLineUp, true)\n    this.init()\n    this.quickGeneration(this.presetLine)\n  },\n  beforeDestroy: function () {\n    document.documentElement.removeEventListener('mousemove', this.dottedLineMove, true)\n    document.documentElement.removeEventListener('mouseup', this.dottedLineUp, true)\n  },\n  methods: {\n    init () {\n      if (!this.rulerToggle) {\n        return\n      }\n      this.refWidth = document.getElementById('verticalRuler').clientWidth\n      this.refHeight = document.getElementById('levelRuler').clientHeight\n      this.topSpacing = document.getElementById('levelRuler').offsetParent.offsetTop\n      this.leftSpacing = document.getElementById('verticalRuler').offsetParent.offsetLeft\n\n      this.scaleCalc()\n    },\n    scaleCalc () {\n      this.xScale = []\n      this.yScale = []\n\n      const scale = parseInt(50 * (100 / this.zoom))\n      for (let i = 0; i < this.width; i += 1) {\n        if (i % scale === 0) {\n          this.xScale.push({ id: i })\n        }\n      }\n\n      for (let i = 0; i < this.height; i += 1) {\n        if (i % scale === 0) {\n          this.yScale.push({ id: i })\n        }\n      }\n    },\n    newLevelLine () {\n      this.isDrag = true\n      this.dragFlag = 'x'\n    },\n    newVerticalLine () {\n      this.isDrag = true\n      this.dragFlag = 'y'\n    },\n    // 虚线移动\n    dottedLineMove ($event) {\n      switch (this.dragFlag) {\n        case 'x':\n          if (this.isDrag) {\n            this.verticalDottedTop = $event.pageY - this.topSpacing\n          }\n          break\n        case 'y':\n          if (this.isDrag) {\n            this.levelDottedLeft = $event.pageX - this.leftSpacing\n          }\n          break\n        case 'l':\n          if (this.isDrag) {\n            this.verticalDottedTop = $event.pageY - this.topSpacing\n          }\n          break\n        case 'v':\n          if (this.isDrag) {\n            this.levelDottedLeft = $event.pageX - this.leftSpacing\n          }\n          break\n        default:\n          break\n      }\n    },\n    // 虚线松开\n    dottedLineUp ($event) {\n      if (this.isDrag) {\n        this.isDrag = false\n        switch (this.dragFlag) {\n          case 'x':\n            this.levelLineList.push(\n              {\n                id: 'levelLine' + this.levelLineList.length + 1,\n                title: $event.pageY + 1 - this.topSpacing - 18 + 'px',\n                top: $event.pageY - this.topSpacing + 1\n              }\n            )\n            break\n          case 'y':\n            this.verticalLineList.push(\n              {\n                id: 'verticalLine' + this.verticalLineList.length + 1,\n                title: $event.pageX + 1 - this.leftSpacing - 18 + 'px',\n                left: $event.pageX - this.leftSpacing + 1\n              }\n            )\n            break\n          case 'l':\n            if ($event.pageY - this.topSpacing < this.refHeight) {\n              let Index, id\n              this.levelLineList.forEach((item, index) => {\n                if (item.id === this.dragLineId) {\n                  Index = index\n                  id = item.id\n                }\n              })\n              this.levelLineList.splice(Index, 1, {\n                id: id,\n                title: -600 + 'px',\n                top: -600\n              })\n            } else {\n              let Index, id\n              this.levelLineList.forEach((item, index) => {\n                if (item.id === this.dragLineId) {\n                  Index = index\n                  id = item.id\n                }\n              })\n              this.levelLineList.splice(Index, 1, {\n                id: id,\n                title: $event.pageY + 1 - this.topSpacing - 18 + 'px',\n                top: $event.pageY - this.topSpacing + 1\n              })\n            }\n            break\n          case 'v':\n            if ($event.pageX - this.leftSpacing < this.refWidth) {\n              let Index, id\n              this.verticalLineList.forEach((item, index) => {\n                if (item.id === this.dragLineId) {\n                  Index = index\n                  id = item.id\n                }\n              })\n              this.verticalLineList.splice(Index, 1, {\n                id: id,\n                title: -600 + 'px',\n                left: -600\n              })\n            } else {\n              let Index, id\n              this.verticalLineList.forEach((item, index) => {\n                if (item.id === this.dragLineId) {\n                  Index = index\n                  id = item.id\n                }\n              })\n              this.verticalLineList.splice(Index, 1, {\n                id: id,\n                title: $event.pageX + 1 - this.leftSpacing - 18 + 'px',\n                left: $event.pageX - this.leftSpacing + 1\n              })\n            }\n            break\n          default:\n            break\n        }\n        this.verticalDottedTop = this.levelDottedLeft = -20\n      }\n    },\n    // 水平标尺处按下鼠标\n    levelDragRuler () {\n      this.newLevelLine()\n    },\n    // 垂直标尺处按下鼠标\n    verticalDragRuler () {\n      this.newVerticalLine()\n    },\n    // 水平线处按下鼠标\n    dragLevelLine (id) {\n      const that = this\n      this.timer = setTimeout(function () {\n        that.isDrag = true\n        that.dragFlag = 'l'\n        that.dragLineId = id\n      }, 200)\n    },\n    dragVerticalLine (id) {\n      const that = this\n      this.timer = setTimeout(function () {\n        that.isDrag = true\n        that.dragFlag = 'v'\n        that.dragLineId = id\n      }, 200)\n    },\n    removeLevelLine (id) {\n      clearTimeout(this.timer)\n      let Index\n      this.levelLineList.forEach((item, index) => {\n        if (item.id === this.dragLineId) {\n          Index = index\n          id = item.id\n        }\n      })\n      this.levelLineList.splice(Index, 1)\n    },\n    removeVerticalLine (id) {\n      clearTimeout(this.timer)\n      let Index\n      this.verticalLineList.forEach((item, index) => {\n        if (item.id === this.dragLineId) {\n          Index = index\n          id = item.id\n        }\n      })\n      this.verticalLineList.splice(Index, 1)\n    },\n    quickGeneration (params) {\n      if (params !== []) {\n        params.forEach(item => {\n          switch (item.type) {\n            case 'l':\n              this.levelLineList.push({\n                id: 'levelLine' + this.levelLineList.length + 1,\n                title: item.site + 'px',\n                top: item.site\n              })\n              break\n            case 'v':\n              this.verticalLineList.push({\n                id: 'verticalLine' + this.verticalLineList.length + 1,\n                title: item.site + 'px',\n                left: item.site\n              })\n              break\n            default:\n              break\n          }\n        })\n      }\n    } // 快速生成参考线\n  }\n}\n</script>\n\n<style scoped>\n  .ScaleBox {\n    left: 0;\n    top: 0;\n    z-index: 1;\n    overflow: hidden;\n    user-select: none;\n  }\n\n  .ScaleRuler_h, .ScaleRuler_v, .RefLine_v, .RefLine_h, .RefDot_h, .RefDot_v {\n    position: absolute;\n    left: 0;\n    top: 0;\n    overflow: hidden;\n    z-index: 1;\n  }\n\n  .ScaleRuler_h {\n    width: 100%;\n    height: 18px;\n    left:18px;\n    opacity: 0.6;\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAASCAMAAAAuTX21AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRFMzMzAAAA////BqjYlAAAACNJREFUeNpiYCAdMDKRCka1jGoBA2JZZGshiaCXFpIBQIABAAplBkCmQpujAAAAAElFTkSuQmCC) repeat-x;/*./image/ruler_h.png*/\n  }\n\n  .ScaleRuler_v {\n    width: 18px;\n    height: 100%;\n    top:18px;\n    opacity: 0.6;\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAyCAMAAABmvHtTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRFMzMzAAAA////BqjYlAAAACBJREFUeNpiYGBEBwwMTGiAakI0NX7U9aOuHyGuBwgwAH6bBkAR6jkzAAAAAElFTkSuQmCC) repeat-y; /*./image/ruler_v.png*/\n  }\n\n  .ScaleRuler_v .n, .ScaleRuler_h .n {\n    position: absolute;\n    font: 10px/1 Arial, sans-serif;\n    color: #333;\n    cursor: default;\n  }\n\n  .ScaleRuler_v .n {\n    width: 8px;\n    left: 3px;\n    word-wrap: break-word;\n  }\n\n  .ScaleRuler_h .n {\n    top: 1px;\n  }\n\n  .RefLine_v, .RefLine_h, .RefDot_h, .RefDot_v {\n    z-index: 998;\n  }\n\n  .RefLine_h {\n    width: 100%;\n    height: 3px;\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFSv//AAAAH8VRuAAAAA5JREFUeNpiYIACgAADAAAJAAE0lmO3AAAAAElFTkSuQmCC) repeat-x left center;/*./image/line_h.png*/\n    cursor: n-resize; /*url(./image/cur_move_h.cur), move*/\n    overflow: initial;\n  }\n\n  .RefLine_v {\n    width: 3px;\n    height: 100%;\n    _height: 9999px;\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAMAAAAPxGVzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFSv//AAAAH8VRuAAAAA5JREFUeNpiYEAFAAEGAAAQAAGePof9AAAAAElFTkSuQmCC) repeat-y center top;/*./image/line_v.png*/\n    cursor: w-resize;/*url(./image/cur_move_v.cur), move*/\n    overflow: initial;\n  }\n\n  .RefDot_h {\n    width: 100%;\n    height: 3px;\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAMAAABFaP0WAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFf39/////F3PnHQAAAAJ0Uk5T/wDltzBKAAAAEElEQVR42mJgYGRgZAQIMAAADQAExkizYQAAAABJRU5ErkJggg==) repeat-x left 1px;/*./image/line_dot.png*/\n    cursor:  n-resize;/*url(./image/cur_move_h.cur), move*/\n    top: -50px;\n  }\n\n  .RefDot_v {\n    width: 3px;\n    height: 100%;\n    _height: 9999px;\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAMAAABFaP0WAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFf39/////F3PnHQAAAAJ0Uk5T/wDltzBKAAAAEElEQVR42mJgYGRgZAQIMAAADQAExkizYQAAAABJRU5ErkJggg==) repeat-y 1px top;/*./image/line_dot.png*/\n    cursor: w-resize;/*url(./image/cur_move_v.cur), move*/\n    left: -10px;\n  }\n  #content {\n    position: absolute;\n  }\n\n  .title-h {\n    font-size: 10px;\n    color: #18ffff;\n    margin-top: 20px;\n    float: left;\n  }\n\n  .title-v {\n    font-size: 10px;\n    color: #18ffff;\n    margin-left: 20px;\n  }\n</style>\n","\n#json-editor[data-v-14d9044c]{\n  height:600px;\n  border: 1px solid #c5c5c5;\n}\n\n\n.loader[data-v-7d3711a6] {\n    /* width: 20em; */\n    /* height: 20em; */\n    /* font-size: 10px; */\n    position: relative;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.clockwise[data-v-7d3711a6] {\n    border-color: currentColor transparent transparent currentColor;\n    border-width: 0.2em 0.2em 0em 0em;\n    --deg: -45deg;\n    -webkit-animation: animate-data-v-7d3711a6 3s linear infinite;\n            animation: animate-data-v-7d3711a6 3s linear infinite;\n    -webkit-animation-direction: normal;\n            animation-direction: normal;\n}\n.anti[data-v-7d3711a6] {\n    border-color: currentColor currentColor transparent transparent;\n    border-width: 0.2em 0em 0em 0.2em;\n    --deg: -135deg;\n    -webkit-animation: animate-data-v-7d3711a6 3s linear infinite;\n            animation: animate-data-v-7d3711a6 3s linear infinite;\n    animation-direction: reverse;\n}\n.face[data-v-7d3711a6] {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    border-radius: 50%;\n    border-style: solid;\n}\n.face .circle[data-v-7d3711a6] {\n    position: absolute;\n    width: 50%;\n    height: 0.1em;\n    top: 50%;\n    left: 50%;\n    background-color: transparent;\n    -webkit-transform: rotate(var(--deg));\n            transform: rotate(var(--deg));\n    -webkit-transform-origin: left;\n            transform-origin: left;\n}\n.face .circle[data-v-7d3711a6]::before {\n    position: absolute;\n    top: -0.5em;\n    right: -0.5em;\n    content: '';\n    width: 0.6em;\n    height: 0.6em;\n    background-color: currentColor;\n    border-radius: 50%;\n    -webkit-box-shadow: 0 0 1em,\n                0 0 2em,\n                0 0 3em,\n                0 0 4em,\n                0 0 5em,\n                0 0 0 0.3em rgba(255, 255, 0, 0.1);\n            box-shadow: 0 0 1em,\n                0 0 2em,\n                0 0 3em,\n                0 0 4em,\n                0 0 5em,\n                0 0 0 0.3em rgba(255, 255, 0, 0.1);\n}\n@-webkit-keyframes animate-data-v-7d3711a6 {\nto {\n      -webkit-transform: rotate(1turn);\n              transform: rotate(1turn);\n}\n}\n@keyframes animate-data-v-7d3711a6 {\nto {\n      -webkit-transform: rotate(1turn);\n              transform: rotate(1turn);\n}\n}\n\n\n.monaco-cont{\n  width:200px;\n}\n\n\n.echarts[data-v-53d89b1d] {\n  width: 100%;\n  height:100%;\n}\n\n\n.lz-image img[data-v-76aeb8a9] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-user-drag: none;\n  pointer-events: none;\n}\n\n\n.lz-container[data-v-092edd7e] {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100%;\n}\n.widget-btn[data-v-092edd7e]{\n    outline: none;\n    border: none;\n    cursor: pointer;\n}\n\n\n.table[data-v-05846404]{\n  margin: 0 auto;\n}\n.table-title .table-tr[data-v-05846404]{\n  height:100%;\n}\n.table-tr[data-v-05846404]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  overflow: hidden;\n  border-top:0;\n}\n.table-title[data-v-05846404]{\n  width: 100% ;\n}\n.table-body[data-v-05846404]{\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.table-th[data-v-05846404], .table-td[data-v-05846404] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n  height:100%;\n  width:0;\n}\n.table-td[data-v-05846404]:last-child{\n  border-right:0 !important;\n}\n.table-td-num[data-v-05846404]{\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.table-td-num span[data-v-05846404]{\n  display: block;\n  text-align: center;\n  line-height: 36px;\n  color:#ffffff;\n}\n.table-th span[data-v-05846404], .table-td span[data-v-05846404]{\n  width: 90%;\n  display: block;\n  overflow: hidden;\n  text-overflow:ellipsis;\n  white-space: nowrap;\n}\n\n\n.txt[data-v-92a2c902] {\n  outline: none;\n  font-size: 28px;\n}\n\n\n.txt[data-v-47ba6a78] {\n  outline: none;\n  font-size: 28px;\n}\n\n\n.guides[data-v-3d98f83b] {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 999;\n  top: 0;\n  left: 0;\n}\n.verti[data-v-3d98f83b] {\n  position: absolute;\n  width: 1px;\n  height: 1000%;\n  top: -50px;\n  background: #18ffff;\n}\n.horiz[data-v-3d98f83b] {\n  position: absolute;\n  height: 0.5px;\n  width: 1000%;\n  left: -500%;\n  background: #18ffff;\n}\n\n\n.verti[data-v-44e9ddf2],\n.horiz[data-v-44e9ddf2],\n.slope[data-v-44e9ddf2],\n.slant[data-v-44e9ddf2] {\n  position: absolute;\n  z-index: 999;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.verti[data-v-44e9ddf2] {\n  width: 0;\n  cursor: ew-resize;\n}\n.horiz[data-v-44e9ddf2] {\n  height: 0;\n  cursor: ns-resize;\n}\n.slope[data-v-44e9ddf2] {\n  height: 0;\n  cursor: se-resize;\n}\n.slant[data-v-44e9ddf2] {\n  height: 0;\n  cursor: ne-resize;\n}\n.square[data-v-44e9ddf2] {\n  width: 6px;\n  height: 6px;\n  border: 1px solid #2196f3;\n  background-color: #fff;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n\n\n.right-menu[data-v-85b45b76] {\n  position: fixed;\n  background: #fff;\n  border: solid 1px rgba(0, 0, 0, .2);\n  border-radius: 3px;\n  z-index: 999;\n  display: block;\n}\n.right-menu a[data-v-85b45b76] {\n  width: 75px;\n  height: 28px;\n  line-height: 28px;\n  font-size: 14px;\n  text-align: center;\n  display: block;\n  color: #1a1a1a;\n}\n.right-menu a[data-v-85b45b76]:hover {\n  background: #eee;\n  color: #fff;\n}\n.right-menu[data-v-85b45b76] {\n    border: 1px solid #eee;\n    -webkit-box-shadow: 0 0.5em 1em 0 rgba(0,0,0,.1);\n            box-shadow: 0 0.5em 1em 0 rgba(0,0,0,.1);\n    border-radius: 1px;\n}\n.right-menu a[data-v-85b45b76] {\n    padding: 2px;\n}\n.right-menu a[data-v-85b45b76]:hover {\n    background: #2196f3;\n}\n\n\n.ScaleBox[data-v-6e2d0ad4] {\n  left: 0;\n  top: 0;\n  z-index: 1;\n  overflow: hidden;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.ScaleRuler_h[data-v-6e2d0ad4], .ScaleRuler_v[data-v-6e2d0ad4], .RefLine_v[data-v-6e2d0ad4], .RefLine_h[data-v-6e2d0ad4], .RefDot_h[data-v-6e2d0ad4], .RefDot_v[data-v-6e2d0ad4] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  z-index: 1;\n}\n.ScaleRuler_h[data-v-6e2d0ad4] {\n  width: 100%;\n  height: 18px;\n  left:18px;\n  opacity: 0.6;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAASCAMAAAAuTX21AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRFMzMzAAAA////BqjYlAAAACNJREFUeNpiYCAdMDKRCka1jGoBA2JZZGshiaCXFpIBQIABAAplBkCmQpujAAAAAElFTkSuQmCC) repeat-x;/*./image/ruler_h.png*/\n}\n.ScaleRuler_v[data-v-6e2d0ad4] {\n  width: 18px;\n  height: 100%;\n  top:18px;\n  opacity: 0.6;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAyCAMAAABmvHtTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRFMzMzAAAA////BqjYlAAAACBJREFUeNpiYGBEBwwMTGiAakI0NX7U9aOuHyGuBwgwAH6bBkAR6jkzAAAAAElFTkSuQmCC) repeat-y; /*./image/ruler_v.png*/\n}\n.ScaleRuler_v .n[data-v-6e2d0ad4], .ScaleRuler_h .n[data-v-6e2d0ad4] {\n  position: absolute;\n  font: 10px/1 Arial, sans-serif;\n  color: #333;\n  cursor: default;\n}\n.ScaleRuler_v .n[data-v-6e2d0ad4] {\n  width: 8px;\n  left: 3px;\n  word-wrap: break-word;\n}\n.ScaleRuler_h .n[data-v-6e2d0ad4] {\n  top: 1px;\n}\n.RefLine_v[data-v-6e2d0ad4], .RefLine_h[data-v-6e2d0ad4], .RefDot_h[data-v-6e2d0ad4], .RefDot_v[data-v-6e2d0ad4] {\n  z-index: 998;\n}\n.RefLine_h[data-v-6e2d0ad4] {\n  width: 100%;\n  height: 3px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFSv//AAAAH8VRuAAAAA5JREFUeNpiYIACgAADAAAJAAE0lmO3AAAAAElFTkSuQmCC) repeat-x left center;/*./image/line_h.png*/\n  cursor: n-resize; /*url(./image/cur_move_h.cur), move*/\n  overflow: initial;\n}\n.RefLine_v[data-v-6e2d0ad4] {\n  width: 3px;\n  height: 100%;\n  _height: 9999px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAMAAAAPxGVzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFSv//AAAAH8VRuAAAAA5JREFUeNpiYEAFAAEGAAAQAAGePof9AAAAAElFTkSuQmCC) repeat-y center top;/*./image/line_v.png*/\n  cursor: w-resize;/*url(./image/cur_move_v.cur), move*/\n  overflow: initial;\n}\n.RefDot_h[data-v-6e2d0ad4] {\n  width: 100%;\n  height: 3px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAMAAABFaP0WAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFf39/////F3PnHQAAAAJ0Uk5T/wDltzBKAAAAEElEQVR42mJgYGRgZAQIMAAADQAExkizYQAAAABJRU5ErkJggg==) repeat-x left 1px;/*./image/line_dot.png*/\n  cursor:  n-resize;/*url(./image/cur_move_h.cur), move*/\n  top: -50px;\n}\n.RefDot_v[data-v-6e2d0ad4] {\n  width: 3px;\n  height: 100%;\n  _height: 9999px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAMAAABFaP0WAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFf39/////F3PnHQAAAAJ0Uk5T/wDltzBKAAAAEElEQVR42mJgYGRgZAQIMAAADQAExkizYQAAAABJRU5ErkJggg==) repeat-y 1px top;/*./image/line_dot.png*/\n  cursor: w-resize;/*url(./image/cur_move_v.cur), move*/\n  left: -10px;\n}\n#content[data-v-6e2d0ad4] {\n  position: absolute;\n}\n.title-h[data-v-6e2d0ad4] {\n  font-size: 10px;\n  color: #18ffff;\n  margin-top: 20px;\n  float: left;\n}\n.title-v[data-v-6e2d0ad4] {\n  font-size: 10px;\n  color: #18ffff;\n  margin-left: 20px;\n}\n\n.vue-drag-select[data-v-05aaf920] {\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  overflow-y: visible;\n  will-change: transform;\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n.vue-drag-select .select-wrap[data-v-05aaf920] {\n    position: relative;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    padding-left: 10px;\n    min-width: 100%;\n    min-height: 100%;\n}\n.vue-drag-select .select-wrap .wrap-container[data-v-05aaf920] {\n      width: 100%;\n      height: 100%;\n}\n.vue-drag-select-box[data-v-05aaf920] {\n  position: absolute;\n  background: rgba(0, 162, 255, 0.4);\n  z-index: 99;\n  border: 1px dotted #00a2ff;\n}\n\n\n.holder[data-v-0eee3460] {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-size: 0;\n  background-image: linear-gradient(\n      45deg,\n      #f5f5f5 25%,\n      transparent 0,\n      transparent 75%,\n      #f5f5f5 0\n    ),\n    linear-gradient(\n      45deg,\n      #f5f5f5 25%,\n      transparent 0,\n      transparent 75%,\n      #f5f5f5 0\n    );\n  background-position: 0 0, 13px 13px;\n  background-size: 26px 26px;\n  background-color: #f0f3f4;\n}\n.screen[data-v-0eee3460] {\n  /*margin: 25px auto;*/\n  -webkit-transform-origin: left top;\n          transform-origin: left top;\n}\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.vue-drag-select {\n  position: relative;\n  user-select: none;\n  overflow:hidden;\n  width:100%;\n  height:100%;\n  overflow-y: visible;\n  will-change:transform;\n  transform:translate3d(0,0,0);\n  .select-wrap{\n    position: relative;\n    user-select: none;\n    padding-left:10px;\n    min-width:100%;\n    min-height:100%;\n    .wrap-container{\n      width:100%;\n      height:100%;\n    }\n  }\n}\n.vue-drag-select-box {\n  position: absolute;\n  background: rgba(0, 162, 255, .4);\n  z-index: 99;\n  border:1px dotted rgb(0, 162, 255);\n}\n","<template>\n  <div\n    id=\"viewport\"\n    class=\"holder\"\n    :style=\"preview ? screenSize : {}\">\n    <ruler-tool\n      :ruler-toggle=!preview\n      :width=width\n      :height=height\n      :zoom=zoom\n      :content-layout=\"{left: 0, top: 0}\"\n      :is-scale-revise=\"true\">\n      <div\n        :style=\"{\n          backgroundColor: backgroundColor,\n          backgroundImage: backPic,\n          backgroundRepeat: 'no-repeat',\n          width: width + 'px',\n          height: height + 'px',\n          position: 'relative',\n          transform: 'scale(' + zoom / 100 + ')'\n        }\"\n        class=\"screen\"\n        id=\"viewport-screen\"\n        @dblclick=\"replaceImage\">\n\n        <drag-select :minHeight=\"height\" v-model=\"selectedList\" ref=\"dragSelect\">\n          <!-- 组件 -->\n          <component\n            v-for=\"val in widgetStore\"\n            :is=\"val.type\"\n            :data-title=\"val.name\"\n            :class=\"{'g-active': isSelected(val.uuid)}\"\n            :key=\"val.uuid\"\n            :val=\"val\"\n            :h=\"height\"\n            :w=\"width\"\n            :data-type=\"val.type\"\n            :data-uuid=\"val.uuid\"\n            class=\"layer\">\n            <component\n              v-for=\"child in getChilds(val.name)\"\n              :is=\"child.type\"\n              :data-title=\"child.name\"\n              :class=\"{'g-active': isSelected(child.uuid)}\"\n              :key=\"child.uuid\"\n              :val=\"child\"\n              :h=\"height\"\n              :w=\"width\"\n              :data-type=\"child.type\"\n              :data-uuid=\"child.uuid\"\n              class=\"layer layer-child\" />\n          </component>\n        </drag-select>\n\n        <!-- 参考线 -->\n        <component v-bind:is=\"preview ? '' : 'reference-line'\"/>\n\n        <!-- 尺寸控制器 -->\n        <component v-bind:is=\"preview ? '' : 'size-control'\"/>\n\n        <!-- <component v-bind:is=\"preview ? '' : 'drag-select'\"/> -->\n      </div>\n\n        <!-- 右键菜单 -->\n        <component v-bind:is=\"preview ? '' : 'context-menu'\"/>\n    </ruler-tool>\n  </div>\n</template>\n\n<script>\nimport ReferenceLine from './ReferenceLine'\nimport SizeControl from './SizeControl'\nimport ContextMenu from './ContextMenu'\nimport RulerTool from './RulerTool'\nimport DragSelect from './DragSelect'\n\nimport move from '../../mixins/move'\nimport vpd from '../../mixins/vpd'\n\nexport default {\n  name: 'Viewport',\n  components: {\n    ReferenceLine, // 参考线\n    SizeControl, // 尺寸控制\n    ContextMenu, // 右键菜单\n    RulerTool, // 标尺辅助线\n    DragSelect // 鼠标框选\n  },\n\n  mixins: [move, vpd],\n\n  props: {\n    'zoom': Number,\n    'preview': Boolean\n  },\n  data () {\n    return {\n      selectedList: [],\n      presetLine: [{ type: 'l', site: 100 }, { type: 'v', site: 200 }]\n    }\n  },\n  computed: {\n    screenSize () {\n      return {\n        width: window.screen.width + 'px',\n        height: window.screen.height + 'px',\n        overflowX: this.width === window.screen.width ? 'hidden' : 'auto',\n        overflowY: this.height === window.screen.height ? 'hidden' : 'auto'\n      }\n    },\n\n    // 已添加的组件\n    widgetStore () {\n      return this.$vpd.state.widgets.filter(item => item.belong === 'page')\n    },\n\n    // 画布高度\n    height () {\n      return Number(this.$vpd.state.page.height)\n    },\n\n    // 页面宽度\n    width () {\n      return Number(this.$vpd.state.page.width)\n    },\n\n    // 页面背景色\n    backgroundColor () {\n      return this.$vpd.state.page.backgroundColor\n    },\n\n    // 页面背景图片\n    backPic () {\n      return this.$vpd.state.page.backPic\n    },\n\n    // 选中项id\n    id () {\n      return this.$vpd.state.uuid\n    }\n  },\n\n  mounted () {\n    // 预览窗口禁止改变组件位置\n    if (this._props.preview) {\n      return\n    }\n\n    // 采用事件代理的方式监听元件的选中操作\n    document\n      .getElementById('viewport')\n      .addEventListener('mousedown', this.handleSelection, false)\n\n    // 绑定键盘上下左右键用于元件的移动\n    document\n      .getElementById('viewport')\n      .addEventListener(\n        'keydown',\n        e => {\n          e.stopPropagation()\n          var target = this.$vpd.state.activeElement\n\n          // 左\n          if (e.keyCode === 37 && target.left) {\n            target.left -= 1\n            return\n          }\n          // 上\n          if (e.keyCode === 38 && target.top) {\n            e.preventDefault()\n            target.top -= 1\n            return\n          }\n          // 右\n          if (e.keyCode === 39 && target.left) {\n            target.left += 1\n            return\n          }\n\n          // 下\n          if (e.keyCode === 40 && target.top) {\n            e.preventDefault()\n            target.top += 1\n          }\n        },\n        true\n      )\n  },\n\n  methods: {\n    isSelected (uuid) {\n      if (this.$vpd.state.multiSelect) {\n        return this.$vpd.state.uuidList.indexOf(uuid) > -1\n      } else {\n        return this.$vpd.state.uuid === uuid\n      }\n    },\n\n    handleSelection (e) {\n      var target = e.target\n      // console.log(e)\n      var type, uuid, curDiv\n      if (target.tagName === 'CANVAS') {\n        curDiv = target.parentNode.parentNode.parentNode\n        type = curDiv.getAttribute('data-type')\n      } else if (target.className === 'lay-cont') {\n        curDiv = target.parentNode\n        type = curDiv.getAttribute('data-type')\n      } else {\n        type = target.getAttribute('data-type')\n      }\n\n      if (type) {\n        uuid = target.getAttribute('data-uuid') || curDiv.getAttribute('data-uuid')\n\n        // 设置选中元素\n        if (this.$vpd.state.multiSelect && (this.$vpd.state.uuidList.indexOf(uuid) > -1)) {\n          this.initmovement(e)\n        } else {\n          this.$vpd.commit('SELECT_WIDGET', {\n            uuid: uuid || -1\n          })\n          // 绑定移动事件：只有从属于 page 的，除背景图以外的元件才能移动\n          target = this.$vpd.state.activeElement\n          if (target.belong === 'page' && target.dragable) {\n            this.initmovement(e) // 参见 mixins\n          }\n        }\n      } else {\n        // 取消选中元素\n        this.$vpd.commit('SELECT_WIDGET', {\n          uuid: -1\n        })\n      }\n    },\n\n    // 替换图片\n    replaceImage (e) {\n      if (this.$vpd.state.activeElement.isUpload) {\n        this.$vpd.$emit('upload', payload => {\n          this.$vpd.commit('REPLACE_IMAGE', payload)\n        })\n      }\n    },\n\n    // 获取子组件\n    getChilds (name) {\n      return this.$vpd.state.widgets.filter(\n        item => item.belong === name\n      )\n    }\n  },\n  watch: {\n    selectedList: function (newValue) {\n      if (newValue.length > 0) {\n        this.$vpd.commit('MULTISELECT_WIDGET', newValue)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.holder {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  justify-content: center;\n  font-size: 0;\n  background-image: linear-gradient(\n      45deg,\n      #f5f5f5 25%,\n      transparent 0,\n      transparent 75%,\n      #f5f5f5 0\n    ),\n    linear-gradient(\n      45deg,\n      #f5f5f5 25%,\n      transparent 0,\n      transparent 75%,\n      #f5f5f5 0\n    );\n  background-position: 0 0, 13px 13px;\n  background-size: 26px 26px;\n  background-color: #f0f3f4;\n}\n.screen {\n  /*margin: 25px auto;*/\n  transform-origin: left top;\n}\n</style>\n"]}